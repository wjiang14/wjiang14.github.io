<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="update some solutions of Leetcode">
<meta property="og:type" content="website">
<meta property="og:title" content="Wei Jiang">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Wei Jiang">
<meta property="og:description" content="update some solutions of Leetcode">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Wei Jiang">
<meta name="twitter:description" content="update some solutions of Leetcode">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>

  <title> Wei Jiang </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Wei Jiang</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/04/python-tips/" itemprop="url">
                  python_tips
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-04T13:40:12-05:00" content="2017-02-04">
              2017-02-04
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Python 基础复习<br>不复习老忘</p>
<table>
<thead>
<tr>
<th>Character</th>
<th style="text-align:center">Format</th>
</tr>
</thead>
<tbody>
<tr>
<td>d,</td>
<td style="text-align:center">Integer</td>
</tr>
<tr>
<td>u</td>
<td style="text-align:center">Unsigned integer</td>
</tr>
<tr>
<td>f</td>
<td style="text-align:center">Floating point as m.ddddd</td>
</tr>
<tr>
<td>e</td>
<td style="text-align:center">Floating point as m.ddddde+/-xx</td>
</tr>
<tr>
<td>E</td>
<td style="text-align:center">Floating point as m.dddddE+/-xx</td>
</tr>
<tr>
<td>g</td>
<td style="text-align:center">Use %e for exponents less than −4−4 or greater than +5+5, otherwise use %f</td>
</tr>
<tr>
<td>c</td>
<td style="text-align:center">Single character</td>
</tr>
<tr>
<td>s</td>
<td style="text-align:center">String, or any Python data object that can be converted to a string by using the str function.</td>
</tr>
<tr>
<td>%</td>
<td style="text-align:center">Insert a literal % character</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Modifier</th>
<th style="text-align:center">Example</th>
<th style="text-align:right">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>number</td>
<td style="text-align:center">%20d</td>
<td style="text-align:right">Put the value in a field width of 20</td>
</tr>
<tr>
<td>-</td>
<td style="text-align:center">%-20d</td>
<td style="text-align:right">Put the value in a field 20 characters wide, left-justified</td>
</tr>
<tr>
<td>+</td>
<td style="text-align:center">%+20d</td>
<td style="text-align:right">Put the value in a field 20 characters wide, right-justified</td>
</tr>
<tr>
<td>0</td>
<td style="text-align:center">%020d</td>
<td style="text-align:right">Put the value in a field 20 characters wide, fill in with leading zeros.</td>
</tr>
</tbody>
</table>
<h2 id="Built-in-Collection-Data-Types¶"><a href="#Built-in-Collection-Data-Types¶" class="headerlink" title="Built-in Collection Data Types¶"></a>Built-in Collection Data Types¶</h2><p>methods used to build data structures</p>
<h1 id="list"><a href="#list" class="headerlink" title="list"></a>list</h1><table>
<thead>
<tr>
<th>Method Name</th>
<th style="text-align:center">Use</th>
<th style="text-align:right">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>append</td>
<td style="text-align:center">alist.append(item)</td>
<td style="text-align:right">Adds a new item to the end of a list</td>
</tr>
<tr>
<td>insert</td>
<td style="text-align:center">alist.insert(i,item)</td>
<td style="text-align:right">Inserts an item at the ith position in a list</td>
</tr>
<tr>
<td>pop</td>
<td style="text-align:center">alist.pop()</td>
<td style="text-align:right">Removes and returns the last item in a list</td>
</tr>
<tr>
<td>pop</td>
<td style="text-align:center">alist.pop(i)</td>
<td style="text-align:right">Removes and returns the ith item in a list</td>
</tr>
<tr>
<td>sort</td>
<td style="text-align:center">alist.sort()</td>
<td style="text-align:right">Modifies a list to be sorted</td>
</tr>
<tr>
<td>reverse</td>
<td style="text-align:center">alist.reverse()</td>
<td style="text-align:right">Modifies a list to be in reverse order</td>
</tr>
<tr>
<td>del</td>
<td style="text-align:center">del alist[i]</td>
<td style="text-align:right">Deletes the item in the ith position</td>
</tr>
<tr>
<td>index</td>
<td style="text-align:center">alist.index(item)</td>
<td style="text-align:right">Returns the index of the first occurrence of item</td>
</tr>
<tr>
<td>count</td>
<td style="text-align:center">alist.count(item)</td>
<td style="text-align:right">Returns the number of occurrences of item</td>
</tr>
<tr>
<td>remove</td>
<td style="text-align:center">alist.remove(item)</td>
<td style="text-align:right">Removes the first occurrence of item</td>
</tr>
</tbody>
</table>
<h1 id="big-O-for-list-operation"><a href="#big-O-for-list-operation" class="headerlink" title="big O for list operation"></a>big O for list operation</h1><table>
<thead>
<tr>
<th>Operation</th>
<th style="text-align:center">Big-O Efficiency</th>
</tr>
</thead>
<tbody>
<tr>
<td>index []</td>
<td style="text-align:center">O(1)</td>
</tr>
<tr>
<td>index assignment</td>
<td style="text-align:center">O(1)</td>
</tr>
<tr>
<td>append</td>
<td style="text-align:center">O(1)</td>
</tr>
<tr>
<td>pop()</td>
<td style="text-align:center">O(1)</td>
</tr>
<tr>
<td>pop(i)</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>insert(i,item)</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>del operator</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>iteration</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>contains (in)</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>get slice [x:y]</td>
<td style="text-align:center">O(k)</td>
</tr>
<tr>
<td>del slice</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>set slice</td>
<td style="text-align:center">O(n+k)</td>
</tr>
<tr>
<td>reverse</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>concatenate</td>
<td style="text-align:center">O(k)</td>
</tr>
<tr>
<td>sort</td>
<td style="text-align:center">O(n log n)</td>
</tr>
<tr>
<td>multiply</td>
<td style="text-align:center">O(nk)</td>
</tr>
</tbody>
</table>
<h1 id="string"><a href="#string" class="headerlink" title="string"></a>string</h1><table>
<thead>
<tr>
<th>Method Name</th>
<th style="text-align:center">Use</th>
<th style="text-align:right">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>center</td>
<td style="text-align:center">astring.center(w)</td>
<td style="text-align:right">Returns a string centered in a field of size w</td>
</tr>
<tr>
<td>count</td>
<td style="text-align:center">astring.count(item)</td>
<td style="text-align:right">Returns the number of occurrences of item in the string</td>
</tr>
<tr>
<td>ljust</td>
<td style="text-align:center">astring.ljust(w)</td>
<td style="text-align:right">Returns a string left-justified in a field of size w</td>
</tr>
<tr>
<td>lower</td>
<td style="text-align:center">astring.lower()</td>
<td style="text-align:right">Returns a string in all lowercase</td>
</tr>
<tr>
<td>rjust</td>
<td style="text-align:center">astring.rjust(w)</td>
<td style="text-align:right">Returns a string right-justified in a field of size w</td>
</tr>
<tr>
<td>find</td>
<td style="text-align:center">astring.find(item)</td>
<td style="text-align:right">Returns the index of the first occurrence of item</td>
</tr>
<tr>
<td>split</td>
<td style="text-align:center">astring.split(schar)</td>
<td style="text-align:right">Splits a string into substrings at schar</td>
</tr>
</tbody>
</table>
<h1 id="set"><a href="#set" class="headerlink" title="set"></a>set</h1><table>
<thead>
<tr>
<th>Method Name</th>
<th style="text-align:center">Use</th>
<th style="text-align:right">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>union</td>
<td style="text-align:center">aset.union(otherset)</td>
<td style="text-align:right">Returns a new set with all elements from both sets</td>
</tr>
<tr>
<td>intersection</td>
<td style="text-align:center">aset.intersection(otherset)</td>
<td style="text-align:right">Returns a new set with only those elements common to both sets</td>
</tr>
<tr>
<td>difference</td>
<td style="text-align:center">aset.difference(otherset)</td>
<td style="text-align:right">Returns a new set with all items from first set not in second</td>
</tr>
<tr>
<td>issubset</td>
<td style="text-align:center">aset.issubset(otherset)</td>
<td style="text-align:right">Asks whether all elements of one set are in the other</td>
</tr>
<tr>
<td>add</td>
<td style="text-align:center">aset.add(item)</td>
<td style="text-align:right">Adds item to the set</td>
</tr>
<tr>
<td>remove</td>
<td style="text-align:center">aset.remove(item)</td>
<td style="text-align:right">Removes item from the set</td>
</tr>
<tr>
<td>pop</td>
<td style="text-align:center">aset.pop()</td>
<td style="text-align:right">Removes an arbitrary element from the set</td>
</tr>
<tr>
<td>clear</td>
<td style="text-align:center">aset.clear()</td>
<td style="text-align:right">Removes all elements from the set</td>
</tr>
</tbody>
</table>
<h1 id="dictionary"><a href="#dictionary" class="headerlink" title="dictionary"></a>dictionary</h1><table>
<thead>
<tr>
<th>Method Name</th>
<th style="text-align:center">Use</th>
<th style="text-align:right">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>keys</td>
<td style="text-align:center">adict.keys()</td>
<td style="text-align:right">Returns the keys of the dictionary in a dict_keys object</td>
</tr>
<tr>
<td>values</td>
<td style="text-align:center">adict.values()</td>
<td style="text-align:right">Returns the values of the dictionary in a dict_values object</td>
</tr>
<tr>
<td>items</td>
<td style="text-align:center">adict.items()</td>
<td style="text-align:right">Returns the key-value pairs in a dict_items object</td>
</tr>
<tr>
<td>get</td>
<td style="text-align:center">adict.get(k)</td>
<td style="text-align:right">Returns the value associated with k, None otherwise</td>
</tr>
<tr>
<td>get</td>
<td style="text-align:center">adict.get(k,alt)</td>
<td style="text-align:right">Returns the value associated with k, alt otherwise</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Operator    Use    Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>[]</td>
<td style="text-align:center">myDict[k]</td>
<td style="text-align:right">Returns the value associated with k, otherwise its an error</td>
</tr>
<tr>
<td>in</td>
<td style="text-align:center">key in adict</td>
<td style="text-align:right">Returns True if key is in the dictionary, False otherwise</td>
</tr>
<tr>
<td>del</td>
<td style="text-align:center">del adict[key]</td>
<td style="text-align:right">Removes the entry from the dictionary</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/01/ubuntu-config/" itemprop="url">
                  ubuntu config
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-01-01T02:06:39-05:00" content="2017-01-01">
              2017-01-01
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim-tiny"><a href="#自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim-tiny" class="headerlink" title="自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim.tiny"></a>自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim.tiny</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vi tab</div></pre></td></tr></table></figure>
<p>输入命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install vim-gtk</div></pre></td></tr></table></figure></p>
<p>安装好之后再输入vi + tab可以看到已经安装了vim，<br>再输入<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo vim /etc/vim/vimrc</div></pre></td></tr></table></figure></p>
<p>会打开vim配置文件，默认syntax on，说明语法高亮。就可以了</p>
<h2 id="supervisor这个坑终于能填上了"><a href="#supervisor这个坑终于能填上了" class="headerlink" title="supervisor这个坑终于能填上了"></a>supervisor这个坑终于能填上了</h2><p>不知道写这个包的人怎么想的，不同版本之间bug这么多，踩过的坑一定要记下来<br>1 不要用apt-get安装supervisor，apt-get版本是3.0b2版本，可能有bug，官方安装(easy_install和pip)，按照官方说明配置<br>解决方法: 删除老版本，用easy_install安装，现在是3.3.1版本<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get remove --auto-remove supervisord</div><div class="line">$ sudo easy_install supervisor</div></pre></td></tr></table></figure></p>
<p>2 安装好之后run echo_supervisord_conf，可以打印一份配置文件sample。<br>修改配置文件，不同安装方法配置文件也在不同的地方!!，官方文档说下面几个路径都会去搜索<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">1: <span class="variable">$CWD</span>/supervisord.conf</div><div class="line">2: <span class="variable">$CWD</span>/etc/supervisord.conf</div><div class="line">3: /etc/supervisord.conf</div><div class="line">4: /etc/supervisor/supervisord.conf (since Supervisor 3.3.0)</div><div class="line">5: ../etc/supervisord.conf (Relative to the executable)</div><div class="line">6: ../supervisord.conf (Relative to the executable)</div></pre></td></tr></table></figure></p>
<p>我们采用3的路径方法，先把sample配置文件导入/etc/supervisord.conf(需要super user权限)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 把官方配置文件例子导入到/etc/supervisord.conf的文件中</span></div><div class="line">$ sudo echo_supervisord_conf &gt; /etc/supervisord.conf</div></pre></td></tr></table></figure></p>
<p>如果出现permission denied，说明需要super user<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ su -c <span class="string">"echo_supervisord_conf &gt; /etc/supervisord.conf"</span></div></pre></td></tr></table></figure></p>
<p>然后用vim编辑配置文件，在最后一行添加webapp的设置保存退出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$ sudo vim supervisord.conf</div><div class="line"></div><div class="line">[program:awesome]</div><div class="line"></div><div class="line"><span class="built_in">command</span>     = python3 /home/wei/srv/awesome/www/app.py</div><div class="line">directory   = /home/wei/srv/awesome/www</div><div class="line">user        = www-data</div><div class="line">startsecs   = 3</div><div class="line"></div><div class="line">redirect_stderr         = <span class="literal">true</span></div><div class="line">stdout_logfile_maxbytes = 50MB</div><div class="line">stdout_logfile_backups  = 10</div><div class="line">stdout_logfile          = /home/wei/srv/awesome/<span class="built_in">log</span>/app.log</div></pre></td></tr></table></figure></p>
<p>这里有几个坑需要注意</p>
<p><1> stdout_logfile 路径需要指定绝对路径，command也是一样，否则会出现log file does not exist的报错。</1></p>
<p><2> 因为supervisor只支持python2.7而不是python3(坑爹啊！！！)，所以在app前面指定python3，如果还不行就指定python3的绝对路径。应该是用python2启动supervisor，然后再守护python3的进程? 这个还不确定，有待后续研究</2></p>
<p><3> 在conf文件没法加载的情况下是没办法reload，或者restart的，所以可以用<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo supervisorctl -c /etc/supervisord.conf reload</div></pre></td></tr></table></figure></3></p>
<p>来reload，这时候会输出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Restarted supervisord</div></pre></td></tr></table></figure></p>
<p>然后查看supervisor运行状态<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo supervisorctl -c /etc/supervisord.conf status</div><div class="line">output:</div><div class="line">awesome  RUNNING pid 20010, update 0:00:04</div></pre></td></tr></table></figure></p>
<p>就说明运行了。oh yeah!~，这时候打开浏览器输入”<a href="http://127.0.0.1:9000&quot;，可以看到看到我们的网站啦。" target="_blank" rel="external">http://127.0.0.1:9000&quot;，可以看到看到我们的网站啦。</a></p>
<p>再补充几个有用的:<br>Supervisor 有两个主要的组成部分：</p>
<ol>
<li>supervisord，运行 Supervisor 时会启动一个进程 supervisord，它负责启动所管理的进程，并将所管理的进程作为自己的子进程来启动，而且可以在所管理的进程出现崩溃时自动重启。</li>
<li>supervisorctl，是命令行管理工具，可以用来执行 stop、start、restart 等命令，来对这些子进程进行管理。<br>有的时候提示: 启动supervisord失败，提示error: , [Errno 2] No such file or directory: file: /usr/lib/python2.7/socket.py line: 228 找不到socket文件<br>解决方法：重启supervisord的进程，再reload supervisorctl<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ sudo ps ax | grep supervisor   <span class="comment"># 查询supervisord进程，</span></div><div class="line">2516 ?        Ss     1:35 /usr/bin/python /usr/<span class="built_in">local</span>/bin/supervisord   <span class="comment">#记住第一个进程pid</span></div><div class="line">19342 pts/1    S+     0:00 grep --color=auto supervisord                 <span class="comment">#这是grep命令的进程，不用管</span></div><div class="line"><span class="comment"># 如果没有supervisord这个进程，说明并没有启动，继续检查配置文件</span></div><div class="line"></div><div class="line">$ sudo <span class="built_in">kill</span> 2516  <span class="comment"># 杀死这supervisord该死的进程</span></div><div class="line">$ sudo supervisord  <span class="comment"># 启动supervisord</span></div><div class="line">$ sudo supervisorctl reload  <span class="comment"># reload supervisordctl</span></div><div class="line">$ sudo supervisorctl start awesome  <span class="comment"># 启动程序</span></div><div class="line">$ sudo supervisorctl status  <span class="comment"># 查看状态</span></div></pre></td></tr></table></figure>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/18/C-中的comparator/" itemprop="url">
                  C++中的comparator
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-18T14:43:25-05:00" content="2016-12-18">
              2016-12-18
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C-和Java对其进行实现。"><a href="#自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C-和Java对其进行实现。" class="headerlink" title="自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C++和Java对其进行实现。"></a>自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C++和Java对其进行实现。</h1><p>一：C++<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">/*</div><div class="line">实现对自定义的对象类型进行排序(按照其中的元素)，首先将对象存放在vector中，然后利用algorithm库函数中的sort对其进行排序，需要重写排序函数以函数名</div><div class="line">作为函数指针作为sort的第三个参数</div><div class="line">*/</div><div class="line"> </div><div class="line"><span class="comment">#include &lt;iostream&gt;</span></div><div class="line"><span class="comment">#include &lt;string&gt;</span></div><div class="line"><span class="comment">#include &lt;algorithm&gt;</span></div><div class="line"><span class="comment">#include &lt;vector&gt;</span></div><div class="line">using namespace std;</div><div class="line"> </div><div class="line"> </div><div class="line">struct students&#123;</div><div class="line">    int age;</div><div class="line">    string name;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">void addStudents(vector&lt;students&gt; &amp;vec, int age, string name)&#123;</div><div class="line">    students stu;</div><div class="line">    stu.age = age;</div><div class="line">    stu.name = name;</div><div class="line">    vec.push_back(stu);</div><div class="line">     </div><div class="line">&#125;</div><div class="line"> </div><div class="line">// 按照年龄进行排序 升序</div><div class="line">bool sortByAge(const students &amp;s1, const students &amp;s2)&#123;</div><div class="line">    <span class="built_in">return</span> s1.age &lt; s2.age;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"> </div><div class="line">// 先按照年龄进行排序 年纪一样 按照姓名排序</div><div class="line">bool sortByAll(const students &amp;s1, const students &amp;s2)&#123;</div><div class="line">    <span class="keyword">if</span>(s1.age &lt; s2.age) <span class="built_in">return</span> <span class="literal">true</span>;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(s1.age &gt; s2.age) <span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">    <span class="keyword">else</span> <span class="built_in">return</span> s1.name &lt; s2.name;</div><div class="line">&#125;</div><div class="line">int <span class="function"><span class="title">main</span></span>()&#123;</div><div class="line">    vector&lt;students&gt; vec;</div><div class="line">    addStudents(vec, 20, <span class="string">"zhangming"</span>);</div><div class="line">    addStudents(vec, 20, <span class="string">"xiaoming"</span>);</div><div class="line">    addStudents(vec, 20, <span class="string">"xiaoming2"</span>);</div><div class="line">    addStudents(vec, 23, <span class="string">"xiaohong"</span>);</div><div class="line">    addStudents(vec, 22, <span class="string">"xiaofei"</span>);</div><div class="line">    addStudents(vec, 27, <span class="string">"xiaogang"</span>);</div><div class="line">    cout &lt;&lt; <span class="string">"排序前:"</span> &lt;&lt; endl;</div><div class="line">    <span class="keyword">for</span>(vector&lt;students&gt;::iterator iter = vec.begin(); iter != vec.end(); ++iter)&#123;</div><div class="line">        cout &lt;&lt; (*iter).age &lt;&lt; <span class="string">" "</span> &lt;&lt; (*iter).name &lt;&lt; endl;</div><div class="line">    &#125;</div><div class="line">    sort(vec.begin(), vec.end(), sortByAll);</div><div class="line">    cout &lt;&lt; <span class="string">"排序后:"</span> &lt;&lt; endl;</div><div class="line">    <span class="keyword">for</span>(vector&lt;students&gt;::iterator iter = vec.begin(); iter != vec.end(); ++iter)&#123;</div><div class="line">        cout &lt;&lt; (*iter).age &lt;&lt; <span class="string">" "</span> &lt;&lt; (*iter).name &lt;&lt; endl;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/13/服务器配置经验/" itemprop="url">
                  服务器配置经验.md
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-13T15:35:05-05:00" content="2016-12-13">
              2016-12-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>＃Linux server配置经验<br>因为要部署webapp到服务器，准备用自己的linux验证一下再上传到aws上，写这篇文章记录一下。<br>首先需要安装openssh-server，系统是ubuntu，至于是不是服务器版本或者桌面版都无所谓<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install openssh-server</div></pre></td></tr></table></figure></p>
<p>一般来说安装好之后服务器可以连接，为了验证下可以这样：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ps <span class="_">-e</span> | grep ssh</div></pre></td></tr></table></figure></p>
<p>如果输出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"> 8367 ?        00:00:00 sshd</div><div class="line">16277 ?        00:00:00 ssh-agent</div></pre></td></tr></table></figure></p>
<p>ssh-agent表示ssh-client启动，sshd表示ssh-server启动了。<br>ssh服务默认的端口是22，可以更改端口，使用如下命令打开ssh配置文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo gedit /etc/ssh/sshd_config</div></pre></td></tr></table></figure></p>
<p>修改端口号（Port）后，重启ssh服务即可生效，命令如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo /etc/init.d/ssh restart</div></pre></td></tr></table></figure></p>
<p>ssh服务启动后，即可登陆，登陆命令格式为：ssh 帐号@IP地址<br>不知道ip就ifconfig查看一下<br>比如我的是 ssh wei@192.168.1.6<br>输入用户名密码就可以把程序传上去喽！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/06/dynamic-programming-note-jiuzhang/" itemprop="url">
                  dynamic programming note_jiuzhang
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-11-06T21:44:48-05:00" content="2016-11-06">
              2016-11-06
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>什么情况下使用动态规划</p>
<p>满足下面三个条件之一，则极有可能使用动态规划 90% - 95%：</p>
<p>求最大值，最小值<br>判断是否可行<br>统计方案个数<br>极不可能使用动态规划的情况：</p>
<p>求出所有具体的方案而非方案的个数<br>输入数据是一个集合而不是序列<br>暴力的算法已经是多项式级别<br>动态规划的 4 点要素</p>
<p>状态 State<br>灵感，创造⼒，存储小规模问题的结果<br>最优解 / Maximum / Minimum<br>Yes / No<br>Count(*)<br>方程 Function<br>状态之间的联系，怎么通过⼩的状态，来求得⼤的状态<br>初始化 Intialization<br>最极限的小状态是什么，起点<br>答案 Answer<br>最⼤的那个状态是什么，终点<br>总结</p>
<p>什么情况下可能使用/不用动态规划?</p>
<p>最大值最小值/是否可行/方案总数<br>求所有方案/集合而不是序列/指数级到多项式<br>三种面试常见的动态规划类别及状态特点</p>
<p>坐标,单序列,双序列<br>两招独孤九剑</p>
<p>二维DP需要初始化第0行和第0列<br>n个字符的字符串要开n+1个位置的数组<br>坐标型</p>
<p>state:<br>f[x] 表示我从起点走到坐标x……<br>f[x][y] 表示我从起点走到坐标x,y……<br>function: 研究走到x,y这个点之前的一步<br>initialize: 起点<br>answer: 终点<br>单序列</p>
<p>以字符串居多</p>
<p>state: f[i]表示前i个位置/数字/字符,第i个…<br>function: f[i] = f[j] … j 是i之前的一个位置<br>initialize: f[0]..<br>answer: f[n]..<br>一般answer是f(n)而不是f(n-1), 因为对于n个字符,包含前0个字符(空串),前1个字符……前n个字符。<br>双序列</p>
<p>一般给两个字符串</p>
<p>state: f[i][j]代表了第一个sequence的前i个数字/字符,配上第二个sequence的前j个…<br>function: f[i][j] = 研究第i个和第j个的匹配关系<br>initialize: f[i][0] 和 f[0][i]<br>answer: f[n][m]<br>n = s1.length()<br>m = s2.length()<br>划分型</p>
<p>题目：给一个序列，求一次划分区间，求区间中的最大值</p>
<p>state: f[i] 表⽰示前 个元素的最⼤大值<br>function: f[i] = 前 i 个元素里⾯选一个区间的最⼤值<br>initialize: f[0]..<br>answer: f[n-1]..<br>优化</p>
<p>state:<br>gobal[i] 表示前 i 个元素的最大值<br>local[i] 表⽰示包含第 i 个元素前 i 个元素的最大值<br>function:<br>global[i] = 通过 local[i] 更新<br>local[i] = 通过原序列或者 global[i] 更新<br>initialize: global[0].. Local[i]<br>answer: global[n-1]..<br>背包型</p>
<p>特点：</p>
<p>用值作为DP维度<br>DP过程就是填写矩阵<br>可以滚动数组优化<br>Backpack</p>
<p>State:<br>f[i][S] “前i”个物品，取出一些能否组成和为S<br>Function:<br>f[i][S] = f[i-1][S - a[i]] or f[i-1][S]<br>Intialize:<br>f[i][0] = true; f[0][1..target] = false<br>Answer:<br>检查所有的f[n][j]<br>时间复杂度 O(n*S) ， 滚动数组优化</p>
<p>区间型</p>
<p>特点：</p>
<p>求一段区间的解max/min/count<br>转移方程通过区间更新<br>从大到小的更新<br>这种题目共性就是区间最后求[0,n-1] 这样一个区间<br>逆向思维分析 从大到小就能迎刃而解<br>逆向 =》 分治类似</p>
<p>博弈型</p>
<p>博弈有先后手</p>
<p>State:<br>定义一个人的状态<br>Function:<br>考虑两个人的状态做状态更新<br>Initialize:<br>Answer:<br>先思考最小状态<br>然后思考大的状态-&gt; 往小的递推，那么非常适合记忆化搜索<br>记忆化搜索</p>
<p>本质上：动态规划<br>动态规划就是解决了重复计算的搜索<br>大部分DP都可以用记忆化搜索做</p>
<p>动态规划的实现方式：</p>
<p>循环（从小到大递推）<br>记忆化搜索(从大到小搜索)<br>画搜索树<br>万金油<br>什么时候用记忆化搜索？</p>
<p>状态转移特别麻烦，不是顺序性。<br>初始化状态不是很容易找到<br>题目类型</p>
<p>博弈类问题<br>区间类问题<br>适合解决题目<br>状态特别复杂<br>初始化不好初始化。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/23/tips/" itemprop="url">
                  tips
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-23T18:09:19-04:00" content="2016-10-23">
              2016-10-23
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#2d vector resize 可以用 dp.resize(matrix.size() + 1, vector<int>(matrix.size() + 1, 0));</int></p>
<p>#统计是否包含某个字符(字母)可以统计字母出现的次数，比如字母就设定一个26元素的数组数组，统计字符在字母表中出现的字数即可</p>
<p>#BST的inorder遍历相当于生序排列，要熟悉用栈来实现</p>
<p>#删除bst节点，分三种情况: 1. 如果删除节点为叶子节点，直接删除，指向null。2. 如果其结点只包含左子树，或者右子树的话，此时直接删除该结点，并将其左子树，或者右子树设置为其父结点的左子树或者右子树即可，此操作不会破坏树结构。</p>
<ol>
<li>当结点的左右子树都不空的时候，一般的删除策略是用其右子树的最小数据（容易找到）代替要删除的结点数据并递归删除该结点（此时为null），因为右子树的最小结点不可能有左孩子，所以第二次删除较为容易。z的左子树和右子树均不空。找到z的后继y，因为y一定没有左子树，所以可以删除y并让y的父亲节点成为y的右子树的父亲节点，并用y的值代替z的值.如图：</li>
</ol>
<h3 id="容易犯错的概念"><a href="#容易犯错的概念" class="headerlink" title="容易犯错的概念"></a>容易犯错的概念</h3><p>c++ list是双向链表，iterator是双向迭代器，但是只支持++, –, != ==操作，不能比较也不能向前跨越，如果需要前进多步，则需要用advance函数，前提是要检查是否到达.end()。</p>
<p>list的insert(iterator position, const value_type&amp; val)，返回值是一个iterator，所以如果要在最末位插入元素并且返回一个iterator指向最后一个元素，可以用insert，而不用push_back.</p>
<p>list的erase，的参数是iterator(iterator erase(iterator position)，或者iterator erase (iterator first, iterator last)），范围[first, last);，不支持用index，返回值也是一个iterator；但是unordered_map支持key和iterator的删除，因为元素是一个pair嘛，也好理解</p>
<p>list的swap是交换两个containor，而不是两个元素</p>
<p>以上为LRUCache踩过的坑，算法明白了，老有bug，记录下来不能再犯错了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">class LRUCache &#123;</div><div class="line">    int m_capacity;</div><div class="line">    list&lt;pair&lt;int, int&gt;&gt; cache;</div><div class="line">    unordered_map&lt;int, list&lt;pair&lt;int, int&gt;&gt;::iterator&gt; hs;</div><div class="line">    </div><div class="line">public:</div><div class="line">    LRUCache(int capacity) &#123;</div><div class="line">        m_capacity = capacity;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    int get(int key) &#123;</div><div class="line">        if (hs.find(key) == hs.end()) return -1;</div><div class="line">        // erase的参数为iterator</div><div class="line">        pair&lt;int, int&gt; p = *hs[key];</div><div class="line">        cache.erase(hs[key]);</div><div class="line">        hs[key] = cache.insert(cache.end(), p);</div><div class="line">        return (*hs[key]).second;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void put(int key, int value) &#123;</div><div class="line">        // 如果key有重叠，一定要把以前的擦掉，不然会残留在containor内，超过容量会把需要的元素弹出的</div><div class="line">        if (hs.find(key) != hs.end()) &#123;</div><div class="line">            cache.erase(hs[key]);</div><div class="line">            hs[key] = cache.insert(cache.end(), make_pair(key, value));</div><div class="line">        &#125;</div><div class="line">        else &#123;</div><div class="line">            if (cache.size() == m_capacity) &#123;</div><div class="line">                hs.erase(cache.front().first);</div><div class="line">                cache.pop_front();</div><div class="line">                // hashtable erase可以是iterator也可以是key</div><div class="line">                hs[key] = cache.insert(cache.end(), make_pair(key, value));</div><div class="line">            &#125;</div><div class="line">            else &#123;</div><div class="line">                hs[key] = cache.insert(cache.end(), make_pair(key, value));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/20/刷题备注/" itemprop="url">
                  刷题备注
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-20T16:07:02-04:00" content="2016-10-20">
              2016-10-20
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>10/20/2016<br>tag: DP 95. Unique Binary Search Trees II; Unique Binary Search Trees I; 300. Longest Increasing Subsequence; Guess Number Higher or Lower II; Longest Increasing Subsequence; Ugly Number II</p>
<p>10/22/2016<br>tag: DP 264. Ugly Number II; 221. Maximal Square, House Robber II</p>
<p>10/23/2016<br>tag: DP 152. Maximum Product Subarray; 53. Maximum Subarray; 304. Range Sum Query 2D - Immutable</p>
<p>10/26/2016<br>tag: backtracking     93. Restore IP Addresses; Longest Palindromic Substring; 89. Gray Code; 79. Word Search(记得重做)</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/19/big-data环境配置/" itemprop="url">
                  big_data环境配置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-19T21:25:20-04:00" content="2016-10-19">
              2016-10-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/big-data/" itemprop="url" rel="index">
                    <span itemprop="name">big_data</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>hadoop fs -ls  /<br>列出hdfs文件系统根目录下的目录和文件<br>hadoop fs -ls -R /<br>列出hdfs文件系统所有的目录和文件</p>
<h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><p>test if docker is alreay setup, $sudo docker info<br>配置一个hadoop环境，该环境中有一namenode（主机），两个datanode（子机）</p>
<h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><p>$ <strong>mkdir bigdata-class2</strong>                             # 创建一个目录<br>$ <strong>cd bigdata-class2</strong>  # 进入 文件夹<br>$ sudo docker pull joway/hadoop-cluster# 镜像文件 pull docker image ，接下来需要输入密码，需要管理员权限</p>
<p>这句话的意思是 docker pull<br>docker pull [-a “o”&gt;] [user/ “o”&gt;]name[:tag “o”&gt;]<br>docker pull laozhu/telescope:latest<br>从 Docker Hub 中拉取或者更新指定镜像。<br>-a 拉取所有 tagged 镜像 。</p>
<h1 id="There-is-no-sudo-command-in-Windows-The-nearest-equivalent-is-“run-as-administrator-”-http-stackoverflow-com-questions-9652720-how-to-run-sudo-command-in-windows"><a href="#There-is-no-sudo-command-in-Windows-The-nearest-equivalent-is-“run-as-administrator-”-http-stackoverflow-com-questions-9652720-how-to-run-sudo-command-in-windows" class="headerlink" title="There is no sudo command in Windows. The nearest equivalent is “run as # # administrator.” http://stackoverflow.com/questions/9652720/how-to-run-sudo-command-in-windows ."></a>There is no sudo command in Windows. The nearest equivalent is “run as # # administrator.” <a href="http://stackoverflow.com/questions/9652720/how-to-run-sudo-command-in-windows" target="_blank" rel="external">http://stackoverflow.com/questions/9652720/how-to-run-sudo-command-in-windows</a> .</h1><p>$ git clone <a href="https://github.com/joway/hadoop-cluster-docker" target="_blank" rel="external">https://github.com/joway/hadoop-cluster-docker</a>  # 把 github repository 复制到本地<br>$ ls  # 检测 本地有一个hadoop cluster docker 的文件夹</p>
<p>$ sudo docker network create –driver=bridge hadoop  # 创建 hadoop network<br>$ cd hadoop-cluster-docker  #  进入到 hadoop-cluster-docker  文件夹<br>$ sudo ./start-container.sh # 运行， 如果你看到下面的类似的输出就恭喜你运行成功， 表示的意思是我们启动了1个name node叫做master, 2个data node 叫做 hadoop-slave，<strong>这段代码在每次使用Docker的时候必须运行</strong></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/13/backtracking-md/" itemprop="url">
                  backtracking.md
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-13T17:14:14-04:00" content="2016-10-13">
              2016-10-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/big-data/" itemprop="url" rel="index">
                    <span itemprop="name">big_data</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Combinations // 可以sort也可以不sort</div><div class="line">Combination Sum //sum类问题，因为有target == sum要求，dfs之前最好sort一遍，这样更大的元素就不用考虑，方便剪枝</div><div class="line">Permutations</div><div class="line">Permutations II</div></pre></td></tr></table></figure>
<h3 id="Combination"><a href="#Combination" class="headerlink" title="Combination"></a>Combination</h3><p>Given two integers n and k, return all possible combinations of k numbers out of 1 … n.</p>
<p>For example,<br>If n = 4 and k = 2, a solution is:</p>
<p>[<br>  [2,4],<br>  [3,4],<br>  [2,3],<br>  [1,2],<br>  [1,3],<br>  [1,4],<br>]</p>
<p>利用back tracking枚举可能情况，边界条件为path.size() == k，满足条件就把path vector放到result vector中<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;vector&lt;int&gt;&gt; combine(int n, int k) &#123;</div><div class="line">        vector&lt;vector&lt;int&gt;&gt; result;</div><div class="line">        vector&lt;int&gt; path;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(n &lt;= 0)&#123;</div><div class="line">            <span class="built_in">return</span> result;</div><div class="line">        &#125;</div><div class="line">        trackback(result, path, n, k, 1);</div><div class="line">        </div><div class="line">        <span class="built_in">return</span> result;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void trackback(vector&lt;vector&lt;int&gt;&gt;&amp; result, vector&lt;int&gt; path, int n, int k, int level)&#123;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(path.size() == k)&#123;</div><div class="line">            result.push_back(path);</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(path.size() &gt; k)&#123;</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i = level; i &lt;= n; i++)&#123;</div><div class="line">            path.push_back(i);</div><div class="line">            trackback(result, path, n, k, i + 1); //此处为i + 1，因为不涉及到返回处理，可以不用判定是否访问过，设置为i + 1即可</div><div class="line">            path.pop_back();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="Combination-Sum"><a href="#Combination-Sum" class="headerlink" title="Combination Sum"></a>Combination Sum</h3><p>边界条件为 target == 0，每次路径更新target -= nums[i]，<br>Given a set of candidate numbers (C) and a target number (T), find all unique combinations in C where the candidate numbers sums to T.</p>
<p>The same repeated number may be chosen from C unlimited number of times.</p>
<p>Note:<br>All numbers (including target) will be positive integers.<br>The solution set must not contain duplicate combinations.<br>For example, given candidate set [2, 3, 6, 7] and target 7,<br>A solution set is:<br>[<br>  [7],<br>  [2, 2, 3]<br>]<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;vector&lt;int&gt;&gt; combinationSum(vector&lt;int&gt;&amp; candidates, int target) &#123;</div><div class="line">        vector&lt;vector&lt;int&gt;&gt; ret;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(candidates.size() == 0 || target &lt; 0)&#123;</div><div class="line">            <span class="built_in">return</span> ret;</div><div class="line">        &#125;</div><div class="line">        vector&lt;int&gt; curr;</div><div class="line">        </div><div class="line">        backtracking(ret, curr, candidates, target, 0);</div><div class="line">        <span class="built_in">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void backtracking(vector&lt;vector&lt;int&gt;&gt;&amp; ret, vector&lt;int&gt; curr, vector&lt;int&gt; candidates, int target, int level)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(target == 0)&#123;</div><div class="line">            ret.push_back(curr);</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(target &lt; 0)&#123;</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i = level; i &lt; candidates.size(); ++i)&#123;</div><div class="line">            target -= candidates[i];</div><div class="line">            curr.push_back(candidates[i]);</div><div class="line">            backtracking(ret, curr, candidates, target, i); //此处为i，只枚举i后面的数，防止有重复元素；</div><div class="line">            curr.pop_back();</div><div class="line">            target += candidates[i]; //释放targe值</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="Permutations"><a href="#Permutations" class="headerlink" title="Permutations"></a>Permutations</h3><p>Given a collection of distinct numbers, return all possible permutations.</p>
<p>For example,<br>[1,2,3] have the following permutations:<br>[<br>  [1,2,3],<br>  [1,3,2],<br>  [2,1,3],<br>  [2,3,1],<br>  [3,1,2],<br>  [3,2,1]<br>]</p>
<p>可以用同样的模版，但是permutation一定要有判定是否访问过了.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;vector&lt;int&gt;&gt; permute(vector&lt;int&gt;&amp; nums) &#123;</div><div class="line">        vector&lt;int&gt; path;</div><div class="line">        vector&lt;vector&lt;int&gt;&gt; result;</div><div class="line">        bool visit[nums.size()] = &#123;<span class="literal">false</span>&#125;;</div><div class="line">        </div><div class="line">        dfs(result, path, nums, visit);</div><div class="line">        <span class="built_in">return</span> result;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void dfs(vector&lt;vector&lt;int&gt;&gt;&amp; result, vector&lt;int&gt; path, vector&lt;int&gt; nums, bool visit[])</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(path.size() == nums.size())&#123;</div><div class="line">            result.push_back(path);</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i = 0; i &lt; nums.size(); i++)&#123;</div><div class="line">            <span class="keyword">if</span>(visit[i] == <span class="literal">false</span>)&#123;</div><div class="line">                visit[i] = <span class="literal">true</span>;</div><div class="line">                path.push_back(nums[i]);</div><div class="line">                dfs(result, path, nums, visit);  //循环，但是访问过的元素不放入数组中</div><div class="line">                visit[i] = <span class="literal">false</span>; // 释放判定</div><div class="line">                path.pop_back();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="Permutations-II"><a href="#Permutations-II" class="headerlink" title="Permutations II"></a>Permutations II</h3><p>Given a collection of numbers that might contain duplicates, return all possible unique permutations.</p>
<p>For example,<br>[1,1,2] have the following unique permutations:<br>[<br>  [1,1,2],<br>  [1,2,1],<br>  [2,1,1]<br>]<br>于上一题一样，除了是否访问过的判定，还要加上是否重复的判定 visit[i - 1] == false &amp;&amp; i != 0 &amp;&amp; nums[i] == nums[i - 1]<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    </div><div class="line">    vector&lt;vector&lt;int&gt;&gt; permuteUnique(vector&lt;int&gt;&amp; num) &#123;</div><div class="line">        vector&lt;vector&lt;int&gt;&gt; result;</div><div class="line">        <span class="keyword">if</span>(num.size() == 0)&#123;</div><div class="line">            <span class="built_in">return</span> result;</div><div class="line">        &#125;</div><div class="line">        vector&lt;int&gt; path;</div><div class="line">        vector&lt;bool&gt; visited(num.size(), <span class="literal">false</span>);</div><div class="line">        </div><div class="line">        sort(num.begin(), num.end());</div><div class="line">        dfs(result, path, num, visited);</div><div class="line">        <span class="built_in">return</span> result;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void dfs(vector&lt;vector&lt;int&gt;&gt;&amp; result, vector&lt;int&gt; path, vector&lt;int&gt; num, vector&lt;bool&gt; visited)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(path.size() == num.size())&#123;</div><div class="line">            result.push_back(path);</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i = 0; i &lt; num.size(); i++)&#123;</div><div class="line">            <span class="keyword">if</span>(visited[i] == <span class="literal">false</span>)&#123;</div><div class="line">                <span class="keyword">if</span>(i != 0 &amp;&amp; visited[i - 1] == <span class="literal">false</span> &amp;&amp; num[i] == num[i - 1])&#123; //判定一定要考虑[i - 1]项，i != 0 在前</div><div class="line">                    <span class="built_in">continue</span>;</div><div class="line">                &#125;</div><div class="line">                visited[i] = <span class="literal">true</span>;</div><div class="line">                path.push_back(num[i]);</div><div class="line">                dfs(result, path, num, visited);</div><div class="line">                visited[i] = <span class="literal">false</span>;</div><div class="line">                path.pop_back();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">            </div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/11/dynamic-programming例题/" itemprop="url">
                  dynamic programming例题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-11T13:53:01-04:00" content="2016-10-11">
              2016-10-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/big-data/" itemprop="url" rel="index">
                    <span itemprop="name">big_data</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Best Time to Buy and Sell Stock</div><div class="line">Best Time to Buy and Sell Stock II</div><div class="line">Longest Increasing Subsequence</div></pre></td></tr></table></figure>
<p><a href="http://www.cnblogs.com/wuyuegb2312/p/3281264.html" target="_blank" rel="external">http://www.cnblogs.com/wuyuegb2312/p/3281264.html</a></p>
<h3 id="1-Best-Time-to-Buy-and-Sell-Stock"><a href="#1-Best-Time-to-Buy-and-Sell-Stock" class="headerlink" title="1. Best Time to Buy and Sell Stock"></a>1. Best Time to Buy and Sell Stock</h3><p>Say you have an array for which the ith element is the price of a given stock on day i.<br>If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>
<p>假设 f[i] 为到第 i 天为止可以拿到的最大利润。对于第 i 天，有两种选择，即在当天卖掉股票，或者在第 i 天之前已经卖掉了。那么 f[i] 就是这两种选择中的最大值。如果在第 i 天卖掉股票，那么问题就是在哪天买股票，只要维护一个到第 i 天为止股价的最小值 minPrice 就可以了，此时 f[i] = prices[i] - minPrice ；如果在第 i 天股票已经卖出，则 f[i] = f[i-1]  (类似于背包问题，两种选择，卖还是不卖)。综上所述，令 f[i] 表示到第 i 天为止可以拿到的最大利润。状态转移方程为 f[i] = max(f[i-1], prices[i] - minPrice) ，其中 minPrice 表示到第 i 天为止的最低股价，并且有 minPrice = min(minPrice, prices[i]) 。边界条件为 f[0] = 0, minPrice = prices[0] 。最终结果为 f[n-1] 。时间复杂度与空间复杂度均为 O(n) 。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    int maxProfit(vector&lt;int&gt;&amp; prices) &#123;</div><div class="line">        <span class="keyword">if</span>(prices.size() &lt;= 1)&#123;</div><div class="line">            <span class="built_in">return</span> 0;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        int minP = prices[0];</div><div class="line">        int profit = prices[1] - prices[0];</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i = 2; i &lt; prices.size(); i++)&#123;</div><div class="line">            minP = min(prices[i - 1], minP);</div><div class="line">            profit = max(profit, prices[i] - minP);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(profit &lt; 0)&#123;</div><div class="line">            <span class="built_in">return</span> 0;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="built_in">return</span> profit;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="2-Best-Time-to-Buy-and-Sell-Stock-II"><a href="#2-Best-Time-to-Buy-and-Sell-Stock-II" class="headerlink" title="2. Best Time to Buy and Sell Stock II"></a>2. Best Time to Buy and Sell Stock II</h3><p>Say you have an array for which the ith element is the price of a given stock on day i.<br>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (ie, buy one and sell one share of the stock multiple times). However, you may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</p>
<p>由于可以无限次买卖，上次的状态模型显然不能用了。考虑第 i 天的行为可以是买入、卖出，或什么都不做。如果要买入，显然至少在第 i-1 天的时候手中是没有持有股票的，而如果要卖出，则至少在第 i-1 天的时候手中必须持有股票，如果什么都不做，则没有限制。根据这样的分析，我们可以知道为了计算第 i 天的情况，我们（只）需要第 i-1 天时持有和未持有股票的情况。据此可以抽象出状态。令 hold[i] 表示第 i 天时持有股票可以获得的最大利润， free[i] 表示第 i 天时未持有股票能获得的最大利润。第 i 天持有股票有两种情况，即第 i-1 天就已经持有，或在第 i 天买入。即 hold[i] = max(hold[i-1], free[i-1] - prices[i]) 。同理第 i 天未持有股票也有对应两种情况，即第 i-1 天未持有，或第 i 天卖出。即 free[i] = max(free[i-1], hold[i-1] + prices[i]) 。初始条件为 hold[0] = -prices[0], free[0] = 0 。最终结果为 free[n-1] 。时间复杂度和空间复杂度均为 O(n) 。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    int maxProfit(vector&lt;int&gt;&amp; prices) &#123;</div><div class="line">        //本题也可以做是最大m 子段和</div><div class="line">        int sum = 0;</div><div class="line">        <span class="keyword">for</span>(int i = 1; i &lt; prices.size(); i++)&#123;</div><div class="line">            int diff = prices[i] - prices[i - 1];</div><div class="line">            <span class="keyword">if</span>(diff &gt; 0)&#123;</div><div class="line">                sum += diff;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">return</span> sum;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="3-Longest-Increasing-Subsequence"><a href="#3-Longest-Increasing-Subsequence" class="headerlink" title="3. Longest Increasing Subsequence"></a>3. Longest Increasing Subsequence</h3><p>Given an unsorted array of integers, find the length of longest increasing subsequence.</p>
<p>For example,<br>Given [10, 9, 2, 5, 3, 7, 101, 18],<br>The longest increasing subsequence is [2, 3, 7, 101], therefore the length is 4. Note that there may be more than one LIS combination, it is only necessary for you to return the length.</p>
<p>Your algorithm should run in O(n2) complexity.</p>
<p>Follow up: Could you improve it to O(n log n) time complexity?<br>最长单调递增自序列，有nlog(n)算法，思考过程类似于背包问题，此题中背包不必装满，但是比i(背包容量)小的数j(宝石)，判断max(dp[j]+1, dp[i])，dp[]为子序列个数，相当于背包问题中宝石价值。但是背包问题中，背包捡起一次宝石，背包容量会减小，所以在状态转移方程为max(dp[i - vj(重量)] + 价值，dp[i])，而这个问题不存在背包容量问题，只需要判断j比i小就行了。除此之外还要排出i左边的坑，比如nums[10, 9, 2, 5, 3, 7, 101, 18]中nums[4] = 7，比7小的有[2, 5, 3]，但是子序列要把3这个坑去掉，所以才用max(dp[j] + 1)，解释一下比如i取7的位置，j取3的位置，此时dp[i] = 2，因为有2和5，但是dp[j] ＝ 1，只有2比3小，这时候就跳过3这个数。因为dp[i]是i左边小于nums[i]，并且递增的总和，如果前面有个坑，这个总数会比坑左面的数值小。因此取max(dp[j] + 1)。这个方法经常用，要记住。一般复杂度为O(n^2)。</p>
<p>再说nlog(n)解法，考虑两个数a[x]和a[y]，x&lt;y且a[x]&lt;a[y],且dp[x]=dp[y]，当a[t]要选择时，到底取哪一个构成最优的呢？显然选取a[x]更有潜力，因为可能存在a[x]&lt;a[z]&lt;a[y]，这样a[t]可以获得更优的值。在这里给我们一个启示，当dp[t]一样时，尽量选择更小的a[x].按dp[t]=k来分类，只需保留dp[t]=k的所有a[t]中的最小值，设d[k]记录这个值，d[k]=min{a[t],dp[t]=k}。<br>这时注意到d的两个特点（重要）：</p>
<ol>
<li>d[k]在计算过程中单调不升；           </li>
<li>d数组是有序的，d[1]&lt;d[2]&lt;..d[n]。<br> 利用这两个性质，可以很方便的求解：</li>
<li>设当前已求出的最长上升子序列的长度为len（初始时为1），每次读入一个新元素x：</li>
<li>若x&gt;d[len]，则直接加入到d的末尾，且len++；（利用性质2）<br>否则，在d中二分查找，找到第一个比x小的数d[k]，并d[k+1]=x，在这里x&lt;=d[k+1]一定成立（性质1,2）。<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">O(n^2)</div><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    int lengthOfLIS(vector&lt;int&gt;&amp; nums) &#123;</div><div class="line">        int n=nums.size();</div><div class="line">        <span class="keyword">if</span>(!n) <span class="built_in">return</span> 0;</div><div class="line">        int result=1;</div><div class="line">        vector&lt;int&gt; dp(n,1);</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i=1;i&lt;n;i++)&#123;</div><div class="line">            int temp=0;</div><div class="line">            <span class="keyword">for</span>(int j=0;j&lt;i;j++)&#123;</div><div class="line">                <span class="keyword">if</span>(nums[j]&lt;nums[i]) temp=max(temp,dp[j]);</div><div class="line">            &#125;</div><div class="line">            dp[i]=temp+1;</div><div class="line">            result=max(dp[i],result);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">return</span> result;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line">// C++ implementation to find longest increasing subsequence</div><div class="line">// <span class="keyword">in</span> O(n Log n) time.</div><div class="line"><span class="comment">#include &lt;bits/stdc++.h&gt;</span></div><div class="line">using namespace std;</div><div class="line"> </div><div class="line">// Binary search</div><div class="line">int GetCeilIndex(int arr[], vector&lt;int&gt; &amp;T, int l, int r,</div><div class="line">                 int key)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">while</span> (r - l &gt; 1)</div><div class="line">    &#123;</div><div class="line">        int m = l + (r - l)/2;</div><div class="line">        <span class="keyword">if</span> (arr[T[m]] &gt;= key)</div><div class="line">            r = m;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            l = m;</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    <span class="built_in">return</span> r;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">int LongestIncreasingSubsequence(int arr[], int n)</div><div class="line">&#123;</div><div class="line">    // Add boundary <span class="keyword">case</span>, when array n is zero</div><div class="line">    // Depend on smart pointers</div><div class="line"> </div><div class="line">    vector&lt;int&gt; tailIndices(n, 0); // Initialized with 0 </div><div class="line">    vector&lt;int&gt; prevIndices(n, -1); // initialized with -1</div><div class="line"> </div><div class="line">    int len = 1; // it will always point to empty location</div><div class="line">    <span class="keyword">for</span> (int i = 1; i &lt; n; i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (arr[i] &lt; arr[tailIndices[0]])</div><div class="line">        &#123;</div><div class="line">            // new smallest value</div><div class="line">            tailIndices[0] = i;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr[i] &gt; arr[tailIndices[len-1]])</div><div class="line">        &#123;</div><div class="line">            // arr[i] wants to extend largest subsequence</div><div class="line">            prevIndices[i] = tailIndices[len-1];</div><div class="line">            tailIndices[len++] = i;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            // arr[i] wants to be a potential condidate of</div><div class="line">            // future subsequence</div><div class="line">            // It will replace ceil value <span class="keyword">in</span> tailIndices</div><div class="line">            int pos = GetCeilIndex(arr, tailIndices, -1,</div><div class="line">                                   len-1, arr[i]);</div><div class="line"> </div><div class="line">            prevIndices[i] = tailIndices[pos-1];</div><div class="line">            tailIndices[pos] = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    cout &lt;&lt; <span class="string">"LIS of given input"</span> &lt;&lt; endl;</div><div class="line">    <span class="keyword">for</span> (int i = tailIndices[len-1]; i &gt;= 0; i = prevIndices[i])</div><div class="line">        cout &lt;&lt; arr[i] &lt;&lt; <span class="string">" "</span>;</div><div class="line">    cout &lt;&lt; endl;</div><div class="line"> </div><div class="line">    <span class="built_in">return</span> len;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">int <span class="function"><span class="title">main</span></span>()</div><div class="line">&#123;</div><div class="line">    int arr[] = &#123; 2, 5, 3, 7, 11, 8, 10, 13, 6 &#125;;</div><div class="line">    int n = sizeof(arr)/sizeof(arr[0]);</div><div class="line"> </div><div class="line">    <span class="built_in">printf</span>(<span class="string">"LIS size %d\n"</span>, LongestIncreasingSubsequence(arr, n));</div><div class="line"> </div><div class="line">    <span class="built_in">return</span> 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Wei" />
          <p class="site-author-name" itemprop="name">Wei</p>
          <p class="site-description motion-element" itemprop="description">update some solutions of Leetcode</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">13</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wei</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
