<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="update some solutions of Leetcode">
<meta property="og:type" content="website">
<meta property="og:title" content="Wei Jiang">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Wei Jiang">
<meta property="og:description" content="update some solutions of Leetcode">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Wei Jiang">
<meta name="twitter:description" content="update some solutions of Leetcode">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>

  <title> Wei Jiang </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Wei Jiang</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/28/clustering/" itemprop="url">
                  clustering
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-28T19:18:13-04:00" content="2017-03-28">
              2017-03-28
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="聚类-clustering"><a href="#聚类-clustering" class="headerlink" title="聚类 clustering"></a>聚类 clustering</h2><ol>
<li>k-means; 2. LVQ(learning vector quantization); 3. Mixture-of-Gaussian</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/03/01/design-pattern/" itemprop="url">
                  design_pattern
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-03-01T21:52:10-05:00" content="2017-03-01">
              2017-03-01
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/OOD/" itemprop="url" rel="index">
                    <span itemprop="name">OOD</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Singleton-mode"><a href="#Singleton-mode" class="headerlink" title="Singleton mode"></a>Singleton mode</h3><p>独一无二，只有一个实例对象。比如：线程池(threadpool), cache, 对话框，注册表对象，日志对象，</p>
<ol>
<li>构造器私有，因为私有的构造器的泪不能被实例化，又因为只有实例化后才能调用构造器。鸡生蛋，蛋生鸡的问题。如果有一个静态方法，可以这样调用:<br>MyClass.getInstance();, 因为getInstance()是一个静态方法，是一个类方法，引用一个静态方法需要使用类名。<br>单例模式的优点：</li>
</ol>
<p>在内存中只有一个对象，节省内存空间。<br>避免频繁的创建销毁对象，可以提高性能。<br>避免对共享资源的多重占用。<br>可以全局访问。</p>
<p>适用场景：由于单例模式的以上优点，所以是编程中用的比较多的一种设计模式。我总结了一下我所知道的适合使用单例模式的场景：</p>
<p>需要频繁实例化然后销毁的对象。<br>创建对象时耗时过多或者耗资源过多，但又经常用到的对象。<br>有状态的工具类对象。<br>频繁访问数据库或文件的对象。<br>以及其他我没用过的所有要求只有一个对象的场景。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/02/04/python-tips/" itemprop="url">
                  python_tips
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-02-04T13:40:12-05:00" content="2017-02-04">
              2017-02-04
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Python 基础复习<br>不复习老忘</p>
<table>
<thead>
<tr>
<th>Character</th>
<th style="text-align:center">Format</th>
</tr>
</thead>
<tbody>
<tr>
<td>d,</td>
<td style="text-align:center">Integer</td>
</tr>
<tr>
<td>u</td>
<td style="text-align:center">Unsigned integer</td>
</tr>
<tr>
<td>f</td>
<td style="text-align:center">Floating point as m.ddddd</td>
</tr>
<tr>
<td>e</td>
<td style="text-align:center">Floating point as m.ddddde+/-xx</td>
</tr>
<tr>
<td>E</td>
<td style="text-align:center">Floating point as m.dddddE+/-xx</td>
</tr>
<tr>
<td>g</td>
<td style="text-align:center">Use %e for exponents less than −4−4 or greater than +5+5, otherwise use %f</td>
</tr>
<tr>
<td>c</td>
<td style="text-align:center">Single character</td>
</tr>
<tr>
<td>s</td>
<td style="text-align:center">String, or any Python data object that can be converted to a string by using the str function.</td>
</tr>
<tr>
<td>%</td>
<td style="text-align:center">Insert a literal % character</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Modifier</th>
<th style="text-align:center">Example</th>
<th style="text-align:right">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>number</td>
<td style="text-align:center">%20d</td>
<td style="text-align:right">Put the value in a field width of 20</td>
</tr>
<tr>
<td>-</td>
<td style="text-align:center">%-20d</td>
<td style="text-align:right">Put the value in a field 20 characters wide, left-justified</td>
</tr>
<tr>
<td>+</td>
<td style="text-align:center">%+20d</td>
<td style="text-align:right">Put the value in a field 20 characters wide, right-justified</td>
</tr>
<tr>
<td>0</td>
<td style="text-align:center">%020d</td>
<td style="text-align:right">Put the value in a field 20 characters wide, fill in with leading zeros.</td>
</tr>
</tbody>
</table>
<h2 id="Built-in-Collection-Data-Types¶"><a href="#Built-in-Collection-Data-Types¶" class="headerlink" title="Built-in Collection Data Types¶"></a>Built-in Collection Data Types¶</h2><p>methods used to build data structures</p>
<h1 id="list"><a href="#list" class="headerlink" title="list"></a>list</h1><table>
<thead>
<tr>
<th>Method Name</th>
<th style="text-align:center">Use</th>
<th style="text-align:right">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>append</td>
<td style="text-align:center">alist.append(item)</td>
<td style="text-align:right">Adds a new item to the end of a list</td>
</tr>
<tr>
<td>insert</td>
<td style="text-align:center">alist.insert(i,item)</td>
<td style="text-align:right">Inserts an item at the ith position in a list</td>
</tr>
<tr>
<td>pop</td>
<td style="text-align:center">alist.pop()</td>
<td style="text-align:right">Removes and returns the last item in a list</td>
</tr>
<tr>
<td>pop</td>
<td style="text-align:center">alist.pop(i)</td>
<td style="text-align:right">Removes and returns the ith item in a list</td>
</tr>
<tr>
<td>sort</td>
<td style="text-align:center">alist.sort()</td>
<td style="text-align:right">Modifies a list to be sorted</td>
</tr>
<tr>
<td>reverse</td>
<td style="text-align:center">alist.reverse()</td>
<td style="text-align:right">Modifies a list to be in reverse order</td>
</tr>
<tr>
<td>del</td>
<td style="text-align:center">del alist[i]</td>
<td style="text-align:right">Deletes the item in the ith position</td>
</tr>
<tr>
<td>index</td>
<td style="text-align:center">alist.index(item)</td>
<td style="text-align:right">Returns the index of the first occurrence of item</td>
</tr>
<tr>
<td>count</td>
<td style="text-align:center">alist.count(item)</td>
<td style="text-align:right">Returns the number of occurrences of item</td>
</tr>
<tr>
<td>remove</td>
<td style="text-align:center">alist.remove(item)</td>
<td style="text-align:right">Removes the first occurrence of item</td>
</tr>
</tbody>
</table>
<h1 id="big-O-for-list-operation"><a href="#big-O-for-list-operation" class="headerlink" title="big O for list operation"></a>big O for list operation</h1><table>
<thead>
<tr>
<th>Operation</th>
<th style="text-align:center">Big-O Efficiency</th>
</tr>
</thead>
<tbody>
<tr>
<td>index []</td>
<td style="text-align:center">O(1)</td>
</tr>
<tr>
<td>index assignment</td>
<td style="text-align:center">O(1)</td>
</tr>
<tr>
<td>append</td>
<td style="text-align:center">O(1)</td>
</tr>
<tr>
<td>pop()</td>
<td style="text-align:center">O(1)</td>
</tr>
<tr>
<td>pop(i)</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>insert(i,item)</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>del operator</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>iteration</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>contains (in)</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>get slice [x:y]</td>
<td style="text-align:center">O(k)</td>
</tr>
<tr>
<td>del slice</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>set slice</td>
<td style="text-align:center">O(n+k)</td>
</tr>
<tr>
<td>reverse</td>
<td style="text-align:center">O(n)</td>
</tr>
<tr>
<td>concatenate</td>
<td style="text-align:center">O(k)</td>
</tr>
<tr>
<td>sort</td>
<td style="text-align:center">O(n log n)</td>
</tr>
<tr>
<td>multiply</td>
<td style="text-align:center">O(nk)</td>
</tr>
</tbody>
</table>
<h1 id="string"><a href="#string" class="headerlink" title="string"></a>string</h1><table>
<thead>
<tr>
<th>Method Name</th>
<th style="text-align:center">Use</th>
<th style="text-align:right">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>center</td>
<td style="text-align:center">astring.center(w)</td>
<td style="text-align:right">Returns a string centered in a field of size w</td>
</tr>
<tr>
<td>count</td>
<td style="text-align:center">astring.count(item)</td>
<td style="text-align:right">Returns the number of occurrences of item in the string</td>
</tr>
<tr>
<td>ljust</td>
<td style="text-align:center">astring.ljust(w)</td>
<td style="text-align:right">Returns a string left-justified in a field of size w</td>
</tr>
<tr>
<td>lower</td>
<td style="text-align:center">astring.lower()</td>
<td style="text-align:right">Returns a string in all lowercase</td>
</tr>
<tr>
<td>rjust</td>
<td style="text-align:center">astring.rjust(w)</td>
<td style="text-align:right">Returns a string right-justified in a field of size w</td>
</tr>
<tr>
<td>find</td>
<td style="text-align:center">astring.find(item)</td>
<td style="text-align:right">Returns the index of the first occurrence of item</td>
</tr>
<tr>
<td>split</td>
<td style="text-align:center">astring.split(schar)</td>
<td style="text-align:right">Splits a string into substrings at schar</td>
</tr>
</tbody>
</table>
<h1 id="set"><a href="#set" class="headerlink" title="set"></a>set</h1><table>
<thead>
<tr>
<th>Method Name</th>
<th style="text-align:center">Use</th>
<th style="text-align:right">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>union</td>
<td style="text-align:center">aset.union(otherset)</td>
<td style="text-align:right">Returns a new set with all elements from both sets</td>
</tr>
<tr>
<td>intersection</td>
<td style="text-align:center">aset.intersection(otherset)</td>
<td style="text-align:right">Returns a new set with only those elements common to both sets</td>
</tr>
<tr>
<td>difference</td>
<td style="text-align:center">aset.difference(otherset)</td>
<td style="text-align:right">Returns a new set with all items from first set not in second</td>
</tr>
<tr>
<td>issubset</td>
<td style="text-align:center">aset.issubset(otherset)</td>
<td style="text-align:right">Asks whether all elements of one set are in the other</td>
</tr>
<tr>
<td>add</td>
<td style="text-align:center">aset.add(item)</td>
<td style="text-align:right">Adds item to the set</td>
</tr>
<tr>
<td>remove</td>
<td style="text-align:center">aset.remove(item)</td>
<td style="text-align:right">Removes item from the set</td>
</tr>
<tr>
<td>pop</td>
<td style="text-align:center">aset.pop()</td>
<td style="text-align:right">Removes an arbitrary element from the set</td>
</tr>
<tr>
<td>clear</td>
<td style="text-align:center">aset.clear()</td>
<td style="text-align:right">Removes all elements from the set</td>
</tr>
</tbody>
</table>
<h1 id="dictionary"><a href="#dictionary" class="headerlink" title="dictionary"></a>dictionary</h1><table>
<thead>
<tr>
<th>Method Name</th>
<th style="text-align:center">Use</th>
<th style="text-align:right">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>keys</td>
<td style="text-align:center">adict.keys()</td>
<td style="text-align:right">Returns the keys of the dictionary in a dict_keys object</td>
</tr>
<tr>
<td>values</td>
<td style="text-align:center">adict.values()</td>
<td style="text-align:right">Returns the values of the dictionary in a dict_values object</td>
</tr>
<tr>
<td>items</td>
<td style="text-align:center">adict.items()</td>
<td style="text-align:right">Returns the key-value pairs in a dict_items object</td>
</tr>
<tr>
<td>get</td>
<td style="text-align:center">adict.get(k)</td>
<td style="text-align:right">Returns the value associated with k, None otherwise</td>
</tr>
<tr>
<td>get</td>
<td style="text-align:center">adict.get(k,alt)</td>
<td style="text-align:right">Returns the value associated with k, alt otherwise</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Operator    Use    Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td>[]</td>
<td style="text-align:center">myDict[k]</td>
<td style="text-align:right">Returns the value associated with k, otherwise its an error</td>
</tr>
<tr>
<td>in</td>
<td style="text-align:center">key in adict</td>
<td style="text-align:right">Returns True if key is in the dictionary, False otherwise</td>
</tr>
<tr>
<td>del</td>
<td style="text-align:center">del adict[key]</td>
<td style="text-align:right">Removes the entry from the dictionary</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/01/ubuntu-config/" itemprop="url">
                  ubuntu config
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-01-01T02:06:39-05:00" content="2017-01-01">
              2017-01-01
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim-tiny"><a href="#自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim-tiny" class="headerlink" title="自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim.tiny"></a>自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim.tiny</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vi tab</div></pre></td></tr></table></figure>
<p>输入命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install vim-gtk</div></pre></td></tr></table></figure></p>
<p>安装好之后再输入vi + tab可以看到已经安装了vim，<br>再输入<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo vim /etc/vim/vimrc</div></pre></td></tr></table></figure></p>
<p>会打开vim配置文件，默认syntax on，说明语法高亮。就可以了</p>
<h2 id="supervisor这个坑终于能填上了"><a href="#supervisor这个坑终于能填上了" class="headerlink" title="supervisor这个坑终于能填上了"></a>supervisor这个坑终于能填上了</h2><p>不知道写这个包的人怎么想的，不同版本之间bug这么多，踩过的坑一定要记下来<br>1 不要用apt-get安装supervisor，apt-get版本是3.0b2版本，可能有bug，官方安装(easy_install和pip)，按照官方说明配置<br>解决方法: 删除老版本，用easy_install安装，现在是3.3.1版本<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get remove --auto-remove supervisord</div><div class="line">$ sudo easy_install supervisor</div></pre></td></tr></table></figure></p>
<p>2 安装好之后run echo_supervisord_conf，可以打印一份配置文件sample。<br>修改配置文件，不同安装方法配置文件也在不同的地方!!，官方文档说下面几个路径都会去搜索<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">1: <span class="variable">$CWD</span>/supervisord.conf</div><div class="line">2: <span class="variable">$CWD</span>/etc/supervisord.conf</div><div class="line">3: /etc/supervisord.conf</div><div class="line">4: /etc/supervisor/supervisord.conf (since Supervisor 3.3.0)</div><div class="line">5: ../etc/supervisord.conf (Relative to the executable)</div><div class="line">6: ../supervisord.conf (Relative to the executable)</div></pre></td></tr></table></figure></p>
<p>我们采用3的路径方法，先把sample配置文件导入/etc/supervisord.conf(需要super user权限)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 把官方配置文件例子导入到/etc/supervisord.conf的文件中</span></div><div class="line">$ sudo echo_supervisord_conf &gt; /etc/supervisord.conf</div></pre></td></tr></table></figure></p>
<p>如果出现permission denied，说明需要super user<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ su -c <span class="string">"echo_supervisord_conf &gt; /etc/supervisord.conf"</span></div></pre></td></tr></table></figure></p>
<p>然后用vim编辑配置文件，在最后一行添加webapp的设置保存退出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$ sudo vim supervisord.conf</div><div class="line"></div><div class="line">[program:awesome]</div><div class="line"></div><div class="line"><span class="built_in">command</span>     = python3 /home/wei/srv/awesome/www/app.py</div><div class="line">directory   = /home/wei/srv/awesome/www</div><div class="line">user        = www-data</div><div class="line">startsecs   = 3</div><div class="line"></div><div class="line">redirect_stderr         = <span class="literal">true</span></div><div class="line">stdout_logfile_maxbytes = 50MB</div><div class="line">stdout_logfile_backups  = 10</div><div class="line">stdout_logfile          = /home/wei/srv/awesome/<span class="built_in">log</span>/app.log</div></pre></td></tr></table></figure></p>
<p>这里有几个坑需要注意</p>
<p><1> stdout_logfile 路径需要指定绝对路径，command也是一样，否则会出现log file does not exist的报错。</1></p>
<p><2> 因为supervisor只支持python2.7而不是python3(坑爹啊！！！)，所以在app前面指定python3，如果还不行就指定python3的绝对路径。应该是用python2启动supervisor，然后再守护python3的进程? 这个还不确定，有待后续研究</2></p>
<p><3> 在conf文件没法加载的情况下是没办法reload，或者restart的，所以可以用<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo supervisorctl -c /etc/supervisord.conf reload</div></pre></td></tr></table></figure></3></p>
<p>来reload，这时候会输出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Restarted supervisord</div></pre></td></tr></table></figure></p>
<p>然后查看supervisor运行状态<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo supervisorctl -c /etc/supervisord.conf status</div><div class="line">output:</div><div class="line">awesome  RUNNING pid 20010, update 0:00:04</div></pre></td></tr></table></figure></p>
<p>就说明运行了。oh yeah!~，这时候打开浏览器输入”<a href="http://127.0.0.1:9000&quot;，可以看到看到我们的网站啦。" target="_blank" rel="external">http://127.0.0.1:9000&quot;，可以看到看到我们的网站啦。</a></p>
<p>再补充几个有用的:<br>Supervisor 有两个主要的组成部分：</p>
<ol>
<li>supervisord，运行 Supervisor 时会启动一个进程 supervisord，它负责启动所管理的进程，并将所管理的进程作为自己的子进程来启动，而且可以在所管理的进程出现崩溃时自动重启。</li>
<li>supervisorctl，是命令行管理工具，可以用来执行 stop、start、restart 等命令，来对这些子进程进行管理。<br>有的时候提示: 启动supervisord失败，提示error: , [Errno 2] No such file or directory: file: /usr/lib/python2.7/socket.py line: 228 找不到socket文件<br>解决方法：重启supervisord的进程，再reload supervisorctl<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ sudo ps ax | grep supervisor   <span class="comment"># 查询supervisord进程，</span></div><div class="line">2516 ?        Ss     1:35 /usr/bin/python /usr/<span class="built_in">local</span>/bin/supervisord   <span class="comment">#记住第一个进程pid</span></div><div class="line">19342 pts/1    S+     0:00 grep --color=auto supervisord                 <span class="comment">#这是grep命令的进程，不用管</span></div><div class="line"><span class="comment"># 如果没有supervisord这个进程，说明并没有启动，继续检查配置文件</span></div><div class="line"></div><div class="line">$ sudo <span class="built_in">kill</span> 2516  <span class="comment"># 杀死这supervisord该死的进程</span></div><div class="line">$ sudo supervisord  <span class="comment"># 启动supervisord</span></div><div class="line">$ sudo supervisorctl reload  <span class="comment"># reload supervisordctl</span></div><div class="line">$ sudo supervisorctl start awesome  <span class="comment"># 启动程序</span></div><div class="line">$ sudo supervisorctl status  <span class="comment"># 查看状态</span></div></pre></td></tr></table></figure>
</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/18/C-中的comparator/" itemprop="url">
                  C++中的comparator
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-18T14:43:25-05:00" content="2016-12-18">
              2016-12-18
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C-和Java对其进行实现。"><a href="#自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C-和Java对其进行实现。" class="headerlink" title="自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C++和Java对其进行实现。"></a>自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C++和Java对其进行实现。</h1><p>一：C++<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">/*</div><div class="line">实现对自定义的对象类型进行排序(按照其中的元素)，首先将对象存放在vector中，然后利用algorithm库函数中的sort对其进行排序，需要重写排序函数以函数名</div><div class="line">作为函数指针作为sort的第三个参数</div><div class="line">*/</div><div class="line"> </div><div class="line"><span class="comment">#include &lt;iostream&gt;</span></div><div class="line"><span class="comment">#include &lt;string&gt;</span></div><div class="line"><span class="comment">#include &lt;algorithm&gt;</span></div><div class="line"><span class="comment">#include &lt;vector&gt;</span></div><div class="line">using namespace std;</div><div class="line"> </div><div class="line"> </div><div class="line">struct students&#123;</div><div class="line">    int age;</div><div class="line">    string name;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">void addStudents(vector&lt;students&gt; &amp;vec, int age, string name)&#123;</div><div class="line">    students stu;</div><div class="line">    stu.age = age;</div><div class="line">    stu.name = name;</div><div class="line">    vec.push_back(stu);</div><div class="line">     </div><div class="line">&#125;</div><div class="line"> </div><div class="line">// 按照年龄进行排序 升序</div><div class="line">bool sortByAge(const students &amp;s1, const students &amp;s2)&#123;</div><div class="line">    <span class="built_in">return</span> s1.age &lt; s2.age;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"> </div><div class="line">// 先按照年龄进行排序 年纪一样 按照姓名排序</div><div class="line">bool sortByAll(const students &amp;s1, const students &amp;s2)&#123;</div><div class="line">    <span class="keyword">if</span>(s1.age &lt; s2.age) <span class="built_in">return</span> <span class="literal">true</span>;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(s1.age &gt; s2.age) <span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">    <span class="keyword">else</span> <span class="built_in">return</span> s1.name &lt; s2.name;</div><div class="line">&#125;</div><div class="line">int <span class="function"><span class="title">main</span></span>()&#123;</div><div class="line">    vector&lt;students&gt; vec;</div><div class="line">    addStudents(vec, 20, <span class="string">"zhangming"</span>);</div><div class="line">    addStudents(vec, 20, <span class="string">"xiaoming"</span>);</div><div class="line">    addStudents(vec, 20, <span class="string">"xiaoming2"</span>);</div><div class="line">    addStudents(vec, 23, <span class="string">"xiaohong"</span>);</div><div class="line">    addStudents(vec, 22, <span class="string">"xiaofei"</span>);</div><div class="line">    addStudents(vec, 27, <span class="string">"xiaogang"</span>);</div><div class="line">    cout &lt;&lt; <span class="string">"排序前:"</span> &lt;&lt; endl;</div><div class="line">    <span class="keyword">for</span>(vector&lt;students&gt;::iterator iter = vec.begin(); iter != vec.end(); ++iter)&#123;</div><div class="line">        cout &lt;&lt; (*iter).age &lt;&lt; <span class="string">" "</span> &lt;&lt; (*iter).name &lt;&lt; endl;</div><div class="line">    &#125;</div><div class="line">    sort(vec.begin(), vec.end(), sortByAll);</div><div class="line">    cout &lt;&lt; <span class="string">"排序后:"</span> &lt;&lt; endl;</div><div class="line">    <span class="keyword">for</span>(vector&lt;students&gt;::iterator iter = vec.begin(); iter != vec.end(); ++iter)&#123;</div><div class="line">        cout &lt;&lt; (*iter).age &lt;&lt; <span class="string">" "</span> &lt;&lt; (*iter).name &lt;&lt; endl;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/13/服务器配置经验/" itemprop="url">
                  服务器配置经验.md
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-13T15:35:05-05:00" content="2016-12-13">
              2016-12-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>＃Linux server配置经验<br>因为要部署webapp到服务器，准备用自己的linux验证一下再上传到aws上，写这篇文章记录一下。<br>首先需要安装openssh-server，系统是ubuntu，至于是不是服务器版本或者桌面版都无所谓<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install openssh-server</div></pre></td></tr></table></figure></p>
<p>一般来说安装好之后服务器可以连接，为了验证下可以这样：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ps <span class="_">-e</span> | grep ssh</div></pre></td></tr></table></figure></p>
<p>如果输出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"> 8367 ?        00:00:00 sshd</div><div class="line">16277 ?        00:00:00 ssh-agent</div></pre></td></tr></table></figure></p>
<p>ssh-agent表示ssh-client启动，sshd表示ssh-server启动了。<br>ssh服务默认的端口是22，可以更改端口，使用如下命令打开ssh配置文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo gedit /etc/ssh/sshd_config</div></pre></td></tr></table></figure></p>
<p>修改端口号（Port）后，重启ssh服务即可生效，命令如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo /etc/init.d/ssh restart</div></pre></td></tr></table></figure></p>
<p>ssh服务启动后，即可登陆，登陆命令格式为：ssh 帐号@IP地址<br>不知道ip就ifconfig查看一下<br>比如我的是 ssh wei@192.168.1.6<br>输入用户名密码就可以把程序传上去喽！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/06/dynamic-programming-note-jiuzhang/" itemprop="url">
                  dynamic programming note_jiuzhang
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-11-06T21:44:48-05:00" content="2016-11-06">
              2016-11-06
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>什么情况下使用动态规划</p>
<p>满足下面三个条件之一，则极有可能使用动态规划 90% - 95%：</p>
<p>求最大值，最小值<br>判断是否可行<br>统计方案个数<br>极不可能使用动态规划的情况：</p>
<p>求出所有具体的方案而非方案的个数<br>输入数据是一个集合而不是序列<br>暴力的算法已经是多项式级别<br>动态规划的 4 点要素</p>
<p>状态 State<br>灵感，创造⼒，存储小规模问题的结果<br>最优解 / Maximum / Minimum<br>Yes / No<br>Count(*)<br>方程 Function<br>状态之间的联系，怎么通过⼩的状态，来求得⼤的状态<br>初始化 Intialization<br>最极限的小状态是什么，起点<br>答案 Answer<br>最⼤的那个状态是什么，终点<br>总结</p>
<p>什么情况下可能使用/不用动态规划?</p>
<p>最大值最小值/是否可行/方案总数<br>求所有方案/集合而不是序列/指数级到多项式<br>三种面试常见的动态规划类别及状态特点</p>
<p>坐标,单序列,双序列<br>两招独孤九剑</p>
<p>二维DP需要初始化第0行和第0列<br>n个字符的字符串要开n+1个位置的数组<br>坐标型</p>
<p>state:<br>f[x] 表示我从起点走到坐标x……<br>f[x][y] 表示我从起点走到坐标x,y……<br>function: 研究走到x,y这个点之前的一步<br>initialize: 起点<br>answer: 终点<br>单序列</p>
<p>以字符串居多</p>
<p>state: f[i]表示前i个位置/数字/字符,第i个…<br>function: f[i] = f[j] … j 是i之前的一个位置<br>initialize: f[0]..<br>answer: f[n]..<br>一般answer是f(n)而不是f(n-1), 因为对于n个字符,包含前0个字符(空串),前1个字符……前n个字符。<br>双序列</p>
<p>一般给两个字符串</p>
<p>state: f[i][j]代表了第一个sequence的前i个数字/字符,配上第二个sequence的前j个…<br>function: f[i][j] = 研究第i个和第j个的匹配关系<br>initialize: f[i][0] 和 f[0][i]<br>answer: f[n][m]<br>n = s1.length()<br>m = s2.length()<br>划分型</p>
<p>题目：给一个序列，求一次划分区间，求区间中的最大值</p>
<p>state: f[i] 表⽰示前 个元素的最⼤大值<br>function: f[i] = 前 i 个元素里⾯选一个区间的最⼤值<br>initialize: f[0]..<br>answer: f[n-1]..<br>优化</p>
<p>state:<br>gobal[i] 表示前 i 个元素的最大值<br>local[i] 表⽰示包含第 i 个元素前 i 个元素的最大值<br>function:<br>global[i] = 通过 local[i] 更新<br>local[i] = 通过原序列或者 global[i] 更新<br>initialize: global[0].. Local[i]<br>answer: global[n-1]..<br>背包型</p>
<p>特点：</p>
<p>用值作为DP维度<br>DP过程就是填写矩阵<br>可以滚动数组优化<br>Backpack</p>
<p>State:<br>f[i][S] “前i”个物品，取出一些能否组成和为S<br>Function:<br>f[i][S] = f[i-1][S - a[i]] or f[i-1][S]<br>Intialize:<br>f[i][0] = true; f[0][1..target] = false<br>Answer:<br>检查所有的f[n][j]<br>时间复杂度 O(n*S) ， 滚动数组优化</p>
<p>区间型</p>
<p>特点：</p>
<p>求一段区间的解max/min/count<br>转移方程通过区间更新<br>从大到小的更新<br>这种题目共性就是区间最后求[0,n-1] 这样一个区间<br>逆向思维分析 从大到小就能迎刃而解<br>逆向 =》 分治类似</p>
<p>博弈型</p>
<p>博弈有先后手</p>
<p>State:<br>定义一个人的状态<br>Function:<br>考虑两个人的状态做状态更新<br>Initialize:<br>Answer:<br>先思考最小状态<br>然后思考大的状态-&gt; 往小的递推，那么非常适合记忆化搜索<br>记忆化搜索</p>
<p>本质上：动态规划<br>动态规划就是解决了重复计算的搜索<br>大部分DP都可以用记忆化搜索做</p>
<p>动态规划的实现方式：</p>
<p>循环（从小到大递推）<br>记忆化搜索(从大到小搜索)<br>画搜索树<br>万金油<br>什么时候用记忆化搜索？</p>
<p>状态转移特别麻烦，不是顺序性。<br>初始化状态不是很容易找到<br>题目类型</p>
<p>博弈类问题<br>区间类问题<br>适合解决题目<br>状态特别复杂<br>初始化不好初始化。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/23/tips/" itemprop="url">
                  tips
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-23T18:09:19-04:00" content="2016-10-23">
              2016-10-23
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#2d vector resize 可以用 dp.resize(matrix.size() + 1, vector<int>(matrix.size() + 1, 0));</int></p>
<p>#统计是否包含某个字符(字母)可以统计字母出现的次数，比如字母就设定一个26元素的数组数组，统计字符在字母表中出现的字数即可</p>
<p>#BST的inorder遍历相当于生序排列，要熟悉用栈来实现</p>
<p>#删除bst节点，分三种情况: 1. 如果删除节点为叶子节点，直接删除，指向null。2. 如果其结点只包含左子树，或者右子树的话，此时直接删除该结点，并将其左子树，或者右子树设置为其父结点的左子树或者右子树即可，此操作不会破坏树结构。</p>
<ol>
<li>当结点的左右子树都不空的时候，一般的删除策略是用其右子树的最小数据（容易找到）代替要删除的结点数据并递归删除该结点（此时为null），因为右子树的最小结点不可能有左孩子，所以第二次删除较为容易。z的左子树和右子树均不空。找到z的后继y，因为y一定没有左子树，所以可以删除y并让y的父亲节点成为y的右子树的父亲节点，并用y的值代替z的值.如图：</li>
</ol>
<h3 id="容易犯错的概念"><a href="#容易犯错的概念" class="headerlink" title="容易犯错的概念"></a>容易犯错的概念</h3><p>c++ list是双向链表，iterator是双向迭代器，但是只支持++, –, != ==操作，不能比较也不能向前跨越，如果需要前进多步，则需要用advance函数，前提是要检查是否到达.end()。</p>
<p>list的insert(iterator position, const value_type&amp; val)，返回值是一个iterator，所以如果要在最末位插入元素并且返回一个iterator指向最后一个元素，可以用insert，而不用push_back.</p>
<p>list的erase，的参数是iterator(iterator erase(iterator position)，或者iterator erase (iterator first, iterator last)），范围[first, last);，不支持用index，返回值也是一个iterator；但是unordered_map支持key和iterator的删除，因为元素是一个pair嘛，也好理解</p>
<p>list的swap是交换两个containor，而不是两个元素</p>
<p>以上为LRUCache踩过的坑，算法明白了，老有bug，记录下来不能再犯错了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">class LRUCache &#123;</div><div class="line">    int m_capacity;</div><div class="line">    list&lt;pair&lt;int, int&gt;&gt; cache;</div><div class="line">    unordered_map&lt;int, list&lt;pair&lt;int, int&gt;&gt;::iterator&gt; hs;</div><div class="line">    </div><div class="line">public:</div><div class="line">    LRUCache(int capacity) &#123;</div><div class="line">        m_capacity = capacity;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    int get(int key) &#123;</div><div class="line">        if (hs.find(key) == hs.end()) return -1;</div><div class="line">        // erase的参数为iterator</div><div class="line">        pair&lt;int, int&gt; p = *hs[key];</div><div class="line">        cache.erase(hs[key]);</div><div class="line">        hs[key] = cache.insert(cache.end(), p);</div><div class="line">        return (*hs[key]).second;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void put(int key, int value) &#123;</div><div class="line">        // 如果key有重叠，一定要把以前的擦掉，不然会残留在containor内，超过容量会把需要的元素弹出的</div><div class="line">        if (hs.find(key) != hs.end()) &#123;</div><div class="line">            cache.erase(hs[key]);</div><div class="line">            hs[key] = cache.insert(cache.end(), make_pair(key, value));</div><div class="line">        &#125;</div><div class="line">        else &#123;</div><div class="line">            if (cache.size() == m_capacity) &#123;</div><div class="line">                hs.erase(cache.front().first);</div><div class="line">                cache.pop_front();</div><div class="line">                // hashtable erase可以是iterator也可以是key</div><div class="line">                hs[key] = cache.insert(cache.end(), make_pair(key, value));</div><div class="line">            &#125;</div><div class="line">            else &#123;</div><div class="line">                hs[key] = cache.insert(cache.end(), make_pair(key, value));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>##继续iterator，数组型和节点型iterator的区别<br>链接：<a href="https://www.nowcoder.com/test/question/done?tid=6738151&amp;qid=55374" target="_blank" rel="external">https://www.nowcoder.com/test/question/done?tid=6738151&amp;qid=55374</a><br>来源：牛客网</p>
<p>当使用一个容器的insert或者erase函数通过迭代器插入或删除元素”可能”会导致迭代器失效<br>iterator失效主要有两种情况：<br>1、iterator变量已经变成了“野指针”，对它进行*,++,–都会引起程序内存操作异常；<br>2、iterator所指向的变量已经不是你所以为的那个变量了。<br>不同的容器，他们erase()的返回值的内容是不同的，有的会返回被删除元素的下一个的iterator，有的则会返回删除元素的个数。<br>对于非结点类，如数组类的容器 vector,string,deque 容器标准写法是这样:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"> //vector&lt;int&gt; m_vector;</div><div class="line"> for(vector&lt;int&gt;::iterator iter = m_vector.begin(); iter != m_vector.end();)</div><div class="line">&#123;</div><div class="line">    if(需要删除)</div><div class="line">    &#123;</div><div class="line">        iter=m_vector.erase(iter);</div><div class="line">    &#125;</div><div class="line">    else</div><div class="line">        ++iter;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>数组型数据结构：该数据结构的元素是分配在连续的内存中，insert和erase操作，都会使得删除点和插入点之后的元素挪位置，所以，插入点和删除掉之后的迭代器全部失效，也就是说insert(<em>iter)(或erase(</em>iter))，然后在iter++，是没有意义的。解决方法：erase(*iter)的返回值是下一个有效迭代器的值。 iter =cont.erase(iter);</p>
<p>对于结点类容器(如:list,map,set)是这样:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"> //map&lt;int,int&gt; m_map;</div><div class="line">for(map&lt;int,int&gt;::iterator iter = m_map.begin(); iter != m_map.end(); )</div><div class="line">&#123;</div><div class="line">    if(需要删除)</div><div class="line">    &#123;</div><div class="line">        m_map.erase(iter++);</div><div class="line">    &#125;</div><div class="line">    else</div><div class="line">        ++iter;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>链表型数据结构：对于list型的数据结构，使用了不连续分配的内存，删除运算使指向删除位置的迭代器失效，但是不会失效其他迭代器.解决办法两种，erase(*iter)会返回下一个有效迭代器的值，或者erase(iter++).</p>
<p>树形数据结构： 使用红黑树来存储数据，插入不会使得任何迭代器失效；删除运算使指向删除位置的迭代器失效，但是不会失效其他迭代器.erase迭代器只是被删元素的迭代器失效，但是返回值为void，所以采用erase(iter++)。</p>
<p>##友元<br>静态成员函数属于整个类所拥有，没有this指针<br>友员函数不是这个类的成员，没有this<br>类的非静态成员函数  有this</p>
<p>##复习static关键字</p>
<h3 id="02-23-2017-指针的引用"><a href="#02-23-2017-指针的引用" class="headerlink" title="02/23/2017 指针的引用"></a>02/23/2017 指针的引用</h3><p><a href="http://www.cppblog.com/doing5552/archive/2010/09/28/127994.html" target="_blank" rel="external">http://www.cppblog.com/doing5552/archive/2010/09/28/127994.html</a><br>or<br><a href="http://www.cnblogs.com/li-peng/p/4116349.html" target="_blank" rel="external">http://www.cnblogs.com/li-peng/p/4116349.html</a></p>
<p>// 例如： MYCLASS* p = new MYCLASS；<br>func1（p）；<br>上面这段代码的这种处理方法想必谁都用过，创建一个MYCLASS对象，然后将它传入func1函数。现在假设此函数要修改pMyClass： void<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">func1（MYCLASS *pMyClass）&#123;</div><div class="line">    DoSomething（pMyClass）；</div><div class="line">    pMyClass = // 其它对象的指针</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>第二条语句在函数过程中只修改了pMyClass的值。并没有修改调用者的变量p的值。如果p指向某个位于地址0x008a00的对象，当func1返回时，它仍然指向这个特定的对象。（除非func1有bug将堆弄乱了，完全有这种可能。）</p>
<p>现在假设你想要在func1中修改p的值。这是你的权利。调用者传入一个指针，然后函数给这个指针赋值。以往一般都是传双指针，即指针的指针，例如，CMyClass**。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">MYCLASS* p = NULL；</div><div class="line">func1（&amp;p）；</div><div class="line"></div><div class="line">void func1（MYCLASS** pMyClass）；&#123;</div><div class="line">    *pMyClass = new MYCLASS；</div><div class="line">    ……</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>调用func1之后，p指向新的对象。<br>如果你理解指针的指针，那么你肯定就理解指针引用，因为它们完全是一回事。如果你象下面这样声明函数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">void func1（MYCLASS *&amp; pMyClass）&#123;</div><div class="line">    pMyClass = new MYCLASS； </div><div class="line">    ……</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>其实，它和前面所讲得指针的指针例子是一码事，只是语法有所不同。传递的时候不用传p的地址&amp;p，</p>
<p>02/25/2017<br>对于数组，如果要求一段的和，可以另外一个数组，然后累积求和</p>
<p>02/26/2017<br>c++的priority_queue只能用数组指针初始化？如果好像没办法像vector一样vector<int> {1, 2}这样初始化。并且priority_queue不支持迭代器，只能用!pq.empty()来判断</int></p>
<p>x&amp;(x-1)统计1的个数，x|(x+1)统计0的个数</p>
<p>02/27/2017<br>如果返回是int型，别直接开根号比较</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/20/刷题备注/" itemprop="url">
                  刷题备注
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-20T16:07:02-04:00" content="2016-10-20">
              2016-10-20
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>10/20/2016<br>tag: DP 95. Unique Binary Search Trees II; Unique Binary Search Trees I; 300. Longest Increasing Subsequence; Guess Number Higher or Lower II; Longest Increasing Subsequence; Ugly Number II</p>
<p>10/22/2016<br>tag: DP 264. Ugly Number II; 221. Maximal Square, House Robber II</p>
<p>10/23/2016<br>tag: DP 152. Maximum Product Subarray; 53. Maximum Subarray; 304. Range Sum Query 2D - Immutable</p>
<p>10/26/2016<br>tag: backtracking     93. Restore IP Addresses; Longest Palindromic Substring; 89. Gray Code; 79. Word Search(记得重做)</p>
<p>02/21/2017<br>163; *159; 158; 244; 245; 246; 247; 248; 249; </p>
<p>02/22/2017<br>250; 251; 254<em>(错了); 255; 256; 265；270</em>(错了);</p>
<p>02/23/2017<br>LintCode: binary search + copybook(hard)</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/19/big-data环境配置/" itemprop="url">
                  big_data环境配置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-19T21:25:20-04:00" content="2016-10-19">
              2016-10-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/big-data/" itemprop="url" rel="index">
                    <span itemprop="name">big_data</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>hadoop fs -ls  /<br>列出hdfs文件系统根目录下的目录和文件<br>hadoop fs -ls -R /<br>列出hdfs文件系统所有的目录和文件</p>
<h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><p>test if docker is alreay setup, $sudo docker info<br>配置一个hadoop环境，该环境中有一namenode（主机），两个datanode（子机）</p>
<h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><p>$ <strong>mkdir bigdata-class2</strong>                             # 创建一个目录<br>$ <strong>cd bigdata-class2</strong>  # 进入 文件夹<br>$ sudo docker pull joway/hadoop-cluster# 镜像文件 pull docker image ，接下来需要输入密码，需要管理员权限</p>
<p>这句话的意思是 docker pull<br>docker pull [-a “o”&gt;] [user/ “o”&gt;]name[:tag “o”&gt;]<br>docker pull laozhu/telescope:latest<br>从 Docker Hub 中拉取或者更新指定镜像。<br>-a 拉取所有 tagged 镜像 。</p>
<h1 id="There-is-no-sudo-command-in-Windows-The-nearest-equivalent-is-“run-as-administrator-”-http-stackoverflow-com-questions-9652720-how-to-run-sudo-command-in-windows"><a href="#There-is-no-sudo-command-in-Windows-The-nearest-equivalent-is-“run-as-administrator-”-http-stackoverflow-com-questions-9652720-how-to-run-sudo-command-in-windows" class="headerlink" title="There is no sudo command in Windows. The nearest equivalent is “run as # # administrator.” http://stackoverflow.com/questions/9652720/how-to-run-sudo-command-in-windows ."></a>There is no sudo command in Windows. The nearest equivalent is “run as # # administrator.” <a href="http://stackoverflow.com/questions/9652720/how-to-run-sudo-command-in-windows" target="_blank" rel="external">http://stackoverflow.com/questions/9652720/how-to-run-sudo-command-in-windows</a> .</h1><p>$ git clone <a href="https://github.com/joway/hadoop-cluster-docker" target="_blank" rel="external">https://github.com/joway/hadoop-cluster-docker</a>  # 把 github repository 复制到本地<br>$ ls  # 检测 本地有一个hadoop cluster docker 的文件夹</p>
<p>$ sudo docker network create –driver=bridge hadoop  # 创建 hadoop network<br>$ cd hadoop-cluster-docker  #  进入到 hadoop-cluster-docker  文件夹<br>$ sudo ./start-container.sh # 运行， 如果你看到下面的类似的输出就恭喜你运行成功， 表示的意思是我们启动了1个name node叫做master, 2个data node 叫做 hadoop-slave，<strong>这段代码在每次使用Docker的时候必须运行</strong></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Wei" />
          <p class="site-author-name" itemprop="name">Wei</p>
          <p class="site-description motion-element" itemprop="description">update some solutions of Leetcode</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">15</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">4</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">10</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wei</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
