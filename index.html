<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="update some solutions of Leetcode">
<meta property="og:type" content="website">
<meta property="og:title" content="Wei Jiang">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Wei Jiang">
<meta property="og:description" content="update some solutions of Leetcode">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Wei Jiang">
<meta name="twitter:description" content="update some solutions of Leetcode">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>

  <title> Wei Jiang </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Wei Jiang</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/01/01/ubuntu-config/" itemprop="url">
                  ubuntu config
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2017-01-01T02:06:39-05:00" content="2017-01-01">
              2017-01-01
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim-tiny"><a href="#自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim-tiny" class="headerlink" title="自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim.tiny"></a>自带的vi太难用，先装vim，terminal中输入vi，然后tab键，可以看到系统只安装了vi和vim.tiny</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ vi tab</div></pre></td></tr></table></figure>
<p>输入命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install vim-gtk</div></pre></td></tr></table></figure></p>
<p>安装好之后再输入vi + tab可以看到已经安装了vim，<br>再输入<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo vim /etc/vim/vimrc</div></pre></td></tr></table></figure></p>
<p>会打开vim配置文件，默认syntax on，说明语法高亮。就可以了</p>
<h2 id="supervisor这个坑终于能填上了"><a href="#supervisor这个坑终于能填上了" class="headerlink" title="supervisor这个坑终于能填上了"></a>supervisor这个坑终于能填上了</h2><p>不知道写这个包的人怎么想的，不同版本之间bug这么多，踩过的坑一定要记下来<br>1 不要用apt-get安装supervisor，apt-get版本是3.0b2版本，可能有bug，官方安装(easy_install和pip)，按照官方说明配置<br>解决方法: 删除老版本，用easy_install安装，现在是3.3.1版本<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get remove --auto-remove supervisord</div><div class="line">$ sudo easy_install supervisor</div></pre></td></tr></table></figure></p>
<p>2 安装好之后run echo_supervisord_conf，可以打印一份配置文件sample。<br>修改配置文件，不同安装方法配置文件也在不同的地方!!，官方文档说下面几个路径都会去搜索<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">1: <span class="variable">$CWD</span>/supervisord.conf</div><div class="line">2: <span class="variable">$CWD</span>/etc/supervisord.conf</div><div class="line">3: /etc/supervisord.conf</div><div class="line">4: /etc/supervisor/supervisord.conf (since Supervisor 3.3.0)</div><div class="line">5: ../etc/supervisord.conf (Relative to the executable)</div><div class="line">6: ../supervisord.conf (Relative to the executable)</div></pre></td></tr></table></figure></p>
<p>我们采用3的路径方法，先把sample配置文件导入/etc/supervisord.conf(需要super user权限)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 把官方配置文件例子导入到/etc/supervisord.conf的文件中</span></div><div class="line">$ sudo echo_supervisord_conf &gt; /etc/supervisord.conf</div></pre></td></tr></table></figure></p>
<p>如果出现permission denied，说明需要super user<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ su -c <span class="string">"echo_supervisord_conf &gt; /etc/supervisord.conf"</span></div></pre></td></tr></table></figure></p>
<p>然后用vim编辑配置文件，在最后一行添加webapp的设置保存退出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$ sudo vim supervisord.conf</div><div class="line"></div><div class="line">[program:awesome]</div><div class="line"></div><div class="line"><span class="built_in">command</span>     = python3 /home/wei/srv/awesome/www/app.py</div><div class="line">directory   = /home/wei/srv/awesome/www</div><div class="line">user        = www-data</div><div class="line">startsecs   = 3</div><div class="line"></div><div class="line">redirect_stderr         = <span class="literal">true</span></div><div class="line">stdout_logfile_maxbytes = 50MB</div><div class="line">stdout_logfile_backups  = 10</div><div class="line">stdout_logfile          = /home/wei/srv/awesome/<span class="built_in">log</span>/app.log</div></pre></td></tr></table></figure></p>
<p>这里有几个坑需要注意</p>
<p><1> stdout_logfile 路径需要指定绝对路径，command也是一样，否则会出现log file does not exist的报错。</1></p>
<p><2> 因为supervisor只支持python2.7而不是python3(坑爹啊！！！)，所以在app前面指定python3，如果还不行就指定python3的绝对路径。应该是用python2启动supervisor，然后再守护python3的进程? 这个还不确定，有待后续研究</2></p>
<p><3> 在conf文件没法加载的情况下是没办法reload，或者restart的，所以可以用<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo supervisorctl -c /etc/supervisord.conf reload</div></pre></td></tr></table></figure></3></p>
<p>来reload，这时候会输出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Restarted supervisord</div></pre></td></tr></table></figure></p>
<p>然后查看supervisor运行状态<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo supervisorctl -c /etc/supervisord.conf status</div><div class="line">output:</div><div class="line">awesome  RUNNING pid 20010, update 0:00:04</div></pre></td></tr></table></figure></p>
<p>就说明运行了。oh yeah!~</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/18/C-中的comparator/" itemprop="url">
                  C++中的comparator
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-18T14:43:25-05:00" content="2016-12-18">
              2016-12-18
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C-和Java对其进行实现。"><a href="#自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C-和Java对其进行实现。" class="headerlink" title="自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C++和Java对其进行实现。"></a>自定义了对象，如何按照自定对象中某一或多个元素对其进行排序呢？以下分别从C++和Java对其进行实现。</h1><p>一：C++<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line">/*</div><div class="line">实现对自定义的对象类型进行排序(按照其中的元素)，首先将对象存放在vector中，然后利用algorithm库函数中的sort对其进行排序，需要重写排序函数以函数名</div><div class="line">作为函数指针作为sort的第三个参数</div><div class="line">*/</div><div class="line"> </div><div class="line"><span class="comment">#include &lt;iostream&gt;</span></div><div class="line"><span class="comment">#include &lt;string&gt;</span></div><div class="line"><span class="comment">#include &lt;algorithm&gt;</span></div><div class="line"><span class="comment">#include &lt;vector&gt;</span></div><div class="line">using namespace std;</div><div class="line"> </div><div class="line"> </div><div class="line">struct students&#123;</div><div class="line">    int age;</div><div class="line">    string name;</div><div class="line">&#125;;</div><div class="line"> </div><div class="line">void addStudents(vector&lt;students&gt; &amp;vec, int age, string name)&#123;</div><div class="line">    students stu;</div><div class="line">    stu.age = age;</div><div class="line">    stu.name = name;</div><div class="line">    vec.push_back(stu);</div><div class="line">     </div><div class="line">&#125;</div><div class="line"> </div><div class="line">// 按照年龄进行排序 升序</div><div class="line">bool sortByAge(const students &amp;s1, const students &amp;s2)&#123;</div><div class="line">    <span class="built_in">return</span> s1.age &lt; s2.age;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"> </div><div class="line">// 先按照年龄进行排序 年纪一样 按照姓名排序</div><div class="line">bool sortByAll(const students &amp;s1, const students &amp;s2)&#123;</div><div class="line">    <span class="keyword">if</span>(s1.age &lt; s2.age) <span class="built_in">return</span> <span class="literal">true</span>;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(s1.age &gt; s2.age) <span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">    <span class="keyword">else</span> <span class="built_in">return</span> s1.name &lt; s2.name;</div><div class="line">&#125;</div><div class="line">int <span class="function"><span class="title">main</span></span>()&#123;</div><div class="line">    vector&lt;students&gt; vec;</div><div class="line">    addStudents(vec, 20, <span class="string">"zhangming"</span>);</div><div class="line">    addStudents(vec, 20, <span class="string">"xiaoming"</span>);</div><div class="line">    addStudents(vec, 20, <span class="string">"xiaoming2"</span>);</div><div class="line">    addStudents(vec, 23, <span class="string">"xiaohong"</span>);</div><div class="line">    addStudents(vec, 22, <span class="string">"xiaofei"</span>);</div><div class="line">    addStudents(vec, 27, <span class="string">"xiaogang"</span>);</div><div class="line">    cout &lt;&lt; <span class="string">"排序前:"</span> &lt;&lt; endl;</div><div class="line">    <span class="keyword">for</span>(vector&lt;students&gt;::iterator iter = vec.begin(); iter != vec.end(); ++iter)&#123;</div><div class="line">        cout &lt;&lt; (*iter).age &lt;&lt; <span class="string">" "</span> &lt;&lt; (*iter).name &lt;&lt; endl;</div><div class="line">    &#125;</div><div class="line">    sort(vec.begin(), vec.end(), sortByAll);</div><div class="line">    cout &lt;&lt; <span class="string">"排序后:"</span> &lt;&lt; endl;</div><div class="line">    <span class="keyword">for</span>(vector&lt;students&gt;::iterator iter = vec.begin(); iter != vec.end(); ++iter)&#123;</div><div class="line">        cout &lt;&lt; (*iter).age &lt;&lt; <span class="string">" "</span> &lt;&lt; (*iter).name &lt;&lt; endl;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/13/服务器配置经验/" itemprop="url">
                  服务器配置经验.md
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-13T15:35:05-05:00" content="2016-12-13">
              2016-12-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>＃Linux server配置经验<br>因为要部署webapp到服务器，准备用自己的linux验证一下再上传到aws上，写这篇文章记录一下。<br>首先需要安装openssh-server，系统是ubuntu，至于是不是服务器版本或者桌面版都无所谓<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install openssh-server</div></pre></td></tr></table></figure></p>
<p>一般来说安装好之后服务器可以连接，为了验证下可以这样：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ ps <span class="_">-e</span> | grep ssh</div></pre></td></tr></table></figure></p>
<p>如果输出<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"> 8367 ?        00:00:00 sshd</div><div class="line">16277 ?        00:00:00 ssh-agent</div></pre></td></tr></table></figure></p>
<p>ssh-agent表示ssh-client启动，sshd表示ssh-server启动了。<br>ssh服务默认的端口是22，可以更改端口，使用如下命令打开ssh配置文件：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo gedit /etc/ssh/sshd_config</div></pre></td></tr></table></figure></p>
<p>修改端口号（Port）后，重启ssh服务即可生效，命令如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo /etc/init.d/ssh restart</div></pre></td></tr></table></figure></p>
<p>ssh服务启动后，即可登陆，登陆命令格式为：ssh 帐号@IP地址<br>不知道ip就ifconfig查看一下<br>比如我的是 ssh wei@192.168.1.6<br>输入用户名密码就可以把程序传上去喽！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/06/dynamic-programming-note-jiuzhang/" itemprop="url">
                  dynamic programming note_jiuzhang
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-11-06T21:44:48-05:00" content="2016-11-06">
              2016-11-06
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>什么情况下使用动态规划</p>
<p>满足下面三个条件之一，则极有可能使用动态规划 90% - 95%：</p>
<p>求最大值，最小值<br>判断是否可行<br>统计方案个数<br>极不可能使用动态规划的情况：</p>
<p>求出所有具体的方案而非方案的个数<br>输入数据是一个集合而不是序列<br>暴力的算法已经是多项式级别<br>动态规划的 4 点要素</p>
<p>状态 State<br>灵感，创造⼒，存储小规模问题的结果<br>最优解 / Maximum / Minimum<br>Yes / No<br>Count(*)<br>方程 Function<br>状态之间的联系，怎么通过⼩的状态，来求得⼤的状态<br>初始化 Intialization<br>最极限的小状态是什么，起点<br>答案 Answer<br>最⼤的那个状态是什么，终点<br>总结</p>
<p>什么情况下可能使用/不用动态规划?</p>
<p>最大值最小值/是否可行/方案总数<br>求所有方案/集合而不是序列/指数级到多项式<br>三种面试常见的动态规划类别及状态特点</p>
<p>坐标,单序列,双序列<br>两招独孤九剑</p>
<p>二维DP需要初始化第0行和第0列<br>n个字符的字符串要开n+1个位置的数组<br>坐标型</p>
<p>state:<br>f[x] 表示我从起点走到坐标x……<br>f[x][y] 表示我从起点走到坐标x,y……<br>function: 研究走到x,y这个点之前的一步<br>initialize: 起点<br>answer: 终点<br>单序列</p>
<p>以字符串居多</p>
<p>state: f[i]表示前i个位置/数字/字符,第i个…<br>function: f[i] = f[j] … j 是i之前的一个位置<br>initialize: f[0]..<br>answer: f[n]..<br>一般answer是f(n)而不是f(n-1), 因为对于n个字符,包含前0个字符(空串),前1个字符……前n个字符。<br>双序列</p>
<p>一般给两个字符串</p>
<p>state: f[i][j]代表了第一个sequence的前i个数字/字符,配上第二个sequence的前j个…<br>function: f[i][j] = 研究第i个和第j个的匹配关系<br>initialize: f[i][0] 和 f[0][i]<br>answer: f[n][m]<br>n = s1.length()<br>m = s2.length()<br>划分型</p>
<p>题目：给一个序列，求一次划分区间，求区间中的最大值</p>
<p>state: f[i] 表⽰示前 个元素的最⼤大值<br>function: f[i] = 前 i 个元素里⾯选一个区间的最⼤值<br>initialize: f[0]..<br>answer: f[n-1]..<br>优化</p>
<p>state:<br>gobal[i] 表示前 i 个元素的最大值<br>local[i] 表⽰示包含第 i 个元素前 i 个元素的最大值<br>function:<br>global[i] = 通过 local[i] 更新<br>local[i] = 通过原序列或者 global[i] 更新<br>initialize: global[0].. Local[i]<br>answer: global[n-1]..<br>背包型</p>
<p>特点：</p>
<p>用值作为DP维度<br>DP过程就是填写矩阵<br>可以滚动数组优化<br>Backpack</p>
<p>State:<br>f[i][S] “前i”个物品，取出一些能否组成和为S<br>Function:<br>f[i][S] = f[i-1][S - a[i]] or f[i-1][S]<br>Intialize:<br>f[i][0] = true; f[0][1..target] = false<br>Answer:<br>检查所有的f[n][j]<br>时间复杂度 O(n*S) ， 滚动数组优化</p>
<p>区间型</p>
<p>特点：</p>
<p>求一段区间的解max/min/count<br>转移方程通过区间更新<br>从大到小的更新<br>这种题目共性就是区间最后求[0,n-1] 这样一个区间<br>逆向思维分析 从大到小就能迎刃而解<br>逆向 =》 分治类似</p>
<p>博弈型</p>
<p>博弈有先后手</p>
<p>State:<br>定义一个人的状态<br>Function:<br>考虑两个人的状态做状态更新<br>Initialize:<br>Answer:<br>先思考最小状态<br>然后思考大的状态-&gt; 往小的递推，那么非常适合记忆化搜索<br>记忆化搜索</p>
<p>本质上：动态规划<br>动态规划就是解决了重复计算的搜索<br>大部分DP都可以用记忆化搜索做</p>
<p>动态规划的实现方式：</p>
<p>循环（从小到大递推）<br>记忆化搜索(从大到小搜索)<br>画搜索树<br>万金油<br>什么时候用记忆化搜索？</p>
<p>状态转移特别麻烦，不是顺序性。<br>初始化状态不是很容易找到<br>题目类型</p>
<p>博弈类问题<br>区间类问题<br>适合解决题目<br>状态特别复杂<br>初始化不好初始化。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/23/tips/" itemprop="url">
                  tips
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-23T18:09:19-04:00" content="2016-10-23">
              2016-10-23
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#2d vector resize 可以用 dp.resize(matrix.size() + 1, vector<int>(matrix.size() + 1, 0));</int></p>
<p>#统计是否包含某个字符(字母)可以统计字母出现的次数，比如字母就设定一个26元素的数组数组，统计字符在字母表中出现的字数即可</p>
<p>#BST的inorder遍历相当于生序排列，要熟悉用栈来实现</p>
<p>#删除bst节点，分三种情况: 1. 如果删除节点为叶子节点，直接删除，指向null。2. 如果其结点只包含左子树，或者右子树的话，此时直接删除该结点，并将其左子树，或者右子树设置为其父结点的左子树或者右子树即可，此操作不会破坏树结构。</p>
<ol>
<li>当结点的左右子树都不空的时候，一般的删除策略是用其右子树的最小数据（容易找到）代替要删除的结点数据并递归删除该结点（此时为null），因为右子树的最小结点不可能有左孩子，所以第二次删除较为容易。z的左子树和右子树均不空。找到z的后继y，因为y一定没有左子树，所以可以删除y并让y的父亲节点成为y的右子树的父亲节点，并用y的值代替z的值.如图：</li>
</ol>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/20/刷题备注/" itemprop="url">
                  刷题备注
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-20T16:07:02-04:00" content="2016-10-20">
              2016-10-20
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>10/20/2016<br>tag: DP 95. Unique Binary Search Trees II; Unique Binary Search Trees I; 300. Longest Increasing Subsequence; Guess Number Higher or Lower II; Longest Increasing Subsequence; Ugly Number II</p>
<p>10/22/2016<br>tag: DP 264. Ugly Number II; 221. Maximal Square, House Robber II</p>
<p>10/23/2016<br>tag: DP 152. Maximum Product Subarray; 53. Maximum Subarray; 304. Range Sum Query 2D - Immutable</p>
<p>10/26/2016<br>tag: backtracking     93. Restore IP Addresses; Longest Palindromic Substring; 89. Gray Code; 79. Word Search(记得重做)</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/19/big-data环境配置/" itemprop="url">
                  big_data环境配置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-19T21:25:20-04:00" content="2016-10-19">
              2016-10-19
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/big-data/" itemprop="url" rel="index">
                    <span itemprop="name">big_data</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>hadoop fs -ls  /<br>列出hdfs文件系统根目录下的目录和文件<br>hadoop fs -ls -R /<br>列出hdfs文件系统所有的目录和文件</p>
<h3 id="1"><a href="#1" class="headerlink" title="1"></a>1</h3><p>test if docker is alreay setup, $sudo docker info<br>配置一个hadoop环境，该环境中有一namenode（主机），两个datanode（子机）</p>
<h3 id="2"><a href="#2" class="headerlink" title="2"></a>2</h3><p>$ <strong>mkdir bigdata-class2</strong>                             # 创建一个目录<br>$ <strong>cd bigdata-class2</strong>  # 进入 文件夹<br>$ sudo docker pull joway/hadoop-cluster# 镜像文件 pull docker image ，接下来需要输入密码，需要管理员权限</p>
<p>这句话的意思是 docker pull<br>docker pull [-a “o”&gt;] [user/ “o”&gt;]name[:tag “o”&gt;]<br>docker pull laozhu/telescope:latest<br>从 Docker Hub 中拉取或者更新指定镜像。<br>-a 拉取所有 tagged 镜像 。</p>
<h1 id="There-is-no-sudo-command-in-Windows-The-nearest-equivalent-is-“run-as-administrator-”-http-stackoverflow-com-questions-9652720-how-to-run-sudo-command-in-windows"><a href="#There-is-no-sudo-command-in-Windows-The-nearest-equivalent-is-“run-as-administrator-”-http-stackoverflow-com-questions-9652720-how-to-run-sudo-command-in-windows" class="headerlink" title="There is no sudo command in Windows. The nearest equivalent is “run as # # administrator.” http://stackoverflow.com/questions/9652720/how-to-run-sudo-command-in-windows ."></a>There is no sudo command in Windows. The nearest equivalent is “run as # # administrator.” <a href="http://stackoverflow.com/questions/9652720/how-to-run-sudo-command-in-windows" target="_blank" rel="external">http://stackoverflow.com/questions/9652720/how-to-run-sudo-command-in-windows</a> .</h1><p>$ git clone <a href="https://github.com/joway/hadoop-cluster-docker" target="_blank" rel="external">https://github.com/joway/hadoop-cluster-docker</a>  # 把 github repository 复制到本地<br>$ ls  # 检测 本地有一个hadoop cluster docker 的文件夹</p>
<p>$ sudo docker network create –driver=bridge hadoop  # 创建 hadoop network<br>$ cd hadoop-cluster-docker  #  进入到 hadoop-cluster-docker  文件夹<br>$ sudo ./start-container.sh # 运行， 如果你看到下面的类似的输出就恭喜你运行成功， 表示的意思是我们启动了1个name node叫做master, 2个data node 叫做 hadoop-slave，<strong>这段代码在每次使用Docker的时候必须运行</strong></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/13/backtracking-md/" itemprop="url">
                  backtracking.md
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-13T17:14:14-04:00" content="2016-10-13">
              2016-10-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/big-data/" itemprop="url" rel="index">
                    <span itemprop="name">big_data</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Combinations // 可以sort也可以不sort</div><div class="line">Combination Sum //sum类问题，因为有target == sum要求，dfs之前最好sort一遍，这样更大的元素就不用考虑，方便剪枝</div><div class="line">Permutations</div><div class="line">Permutations II</div></pre></td></tr></table></figure>
<h3 id="Combination"><a href="#Combination" class="headerlink" title="Combination"></a>Combination</h3><p>Given two integers n and k, return all possible combinations of k numbers out of 1 … n.</p>
<p>For example,<br>If n = 4 and k = 2, a solution is:</p>
<p>[<br>  [2,4],<br>  [3,4],<br>  [2,3],<br>  [1,2],<br>  [1,3],<br>  [1,4],<br>]</p>
<p>利用back tracking枚举可能情况，边界条件为path.size() == k，满足条件就把path vector放到result vector中<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;vector&lt;int&gt;&gt; combine(int n, int k) &#123;</div><div class="line">        vector&lt;vector&lt;int&gt;&gt; result;</div><div class="line">        vector&lt;int&gt; path;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(n &lt;= 0)&#123;</div><div class="line">            <span class="built_in">return</span> result;</div><div class="line">        &#125;</div><div class="line">        trackback(result, path, n, k, 1);</div><div class="line">        </div><div class="line">        <span class="built_in">return</span> result;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void trackback(vector&lt;vector&lt;int&gt;&gt;&amp; result, vector&lt;int&gt; path, int n, int k, int level)&#123;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(path.size() == k)&#123;</div><div class="line">            result.push_back(path);</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(path.size() &gt; k)&#123;</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i = level; i &lt;= n; i++)&#123;</div><div class="line">            path.push_back(i);</div><div class="line">            trackback(result, path, n, k, i + 1); //此处为i + 1，因为不涉及到返回处理，可以不用判定是否访问过，设置为i + 1即可</div><div class="line">            path.pop_back();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="Combination-Sum"><a href="#Combination-Sum" class="headerlink" title="Combination Sum"></a>Combination Sum</h3><p>边界条件为 target == 0，每次路径更新target -= nums[i]，<br>Given a set of candidate numbers (C) and a target number (T), find all unique combinations in C where the candidate numbers sums to T.</p>
<p>The same repeated number may be chosen from C unlimited number of times.</p>
<p>Note:<br>All numbers (including target) will be positive integers.<br>The solution set must not contain duplicate combinations.<br>For example, given candidate set [2, 3, 6, 7] and target 7,<br>A solution set is:<br>[<br>  [7],<br>  [2, 2, 3]<br>]<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;vector&lt;int&gt;&gt; combinationSum(vector&lt;int&gt;&amp; candidates, int target) &#123;</div><div class="line">        vector&lt;vector&lt;int&gt;&gt; ret;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(candidates.size() == 0 || target &lt; 0)&#123;</div><div class="line">            <span class="built_in">return</span> ret;</div><div class="line">        &#125;</div><div class="line">        vector&lt;int&gt; curr;</div><div class="line">        </div><div class="line">        backtracking(ret, curr, candidates, target, 0);</div><div class="line">        <span class="built_in">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void backtracking(vector&lt;vector&lt;int&gt;&gt;&amp; ret, vector&lt;int&gt; curr, vector&lt;int&gt; candidates, int target, int level)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(target == 0)&#123;</div><div class="line">            ret.push_back(curr);</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(target &lt; 0)&#123;</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i = level; i &lt; candidates.size(); ++i)&#123;</div><div class="line">            target -= candidates[i];</div><div class="line">            curr.push_back(candidates[i]);</div><div class="line">            backtracking(ret, curr, candidates, target, i); //此处为i，只枚举i后面的数，防止有重复元素；</div><div class="line">            curr.pop_back();</div><div class="line">            target += candidates[i]; //释放targe值</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="Permutations"><a href="#Permutations" class="headerlink" title="Permutations"></a>Permutations</h3><p>Given a collection of distinct numbers, return all possible permutations.</p>
<p>For example,<br>[1,2,3] have the following permutations:<br>[<br>  [1,2,3],<br>  [1,3,2],<br>  [2,1,3],<br>  [2,3,1],<br>  [3,1,2],<br>  [3,2,1]<br>]</p>
<p>可以用同样的模版，但是permutation一定要有判定是否访问过了.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    vector&lt;vector&lt;int&gt;&gt; permute(vector&lt;int&gt;&amp; nums) &#123;</div><div class="line">        vector&lt;int&gt; path;</div><div class="line">        vector&lt;vector&lt;int&gt;&gt; result;</div><div class="line">        bool visit[nums.size()] = &#123;<span class="literal">false</span>&#125;;</div><div class="line">        </div><div class="line">        dfs(result, path, nums, visit);</div><div class="line">        <span class="built_in">return</span> result;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void dfs(vector&lt;vector&lt;int&gt;&gt;&amp; result, vector&lt;int&gt; path, vector&lt;int&gt; nums, bool visit[])</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(path.size() == nums.size())&#123;</div><div class="line">            result.push_back(path);</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i = 0; i &lt; nums.size(); i++)&#123;</div><div class="line">            <span class="keyword">if</span>(visit[i] == <span class="literal">false</span>)&#123;</div><div class="line">                visit[i] = <span class="literal">true</span>;</div><div class="line">                path.push_back(nums[i]);</div><div class="line">                dfs(result, path, nums, visit);  //循环，但是访问过的元素不放入数组中</div><div class="line">                visit[i] = <span class="literal">false</span>; // 释放判定</div><div class="line">                path.pop_back();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="Permutations-II"><a href="#Permutations-II" class="headerlink" title="Permutations II"></a>Permutations II</h3><p>Given a collection of numbers that might contain duplicates, return all possible unique permutations.</p>
<p>For example,<br>[1,1,2] have the following unique permutations:<br>[<br>  [1,1,2],<br>  [1,2,1],<br>  [2,1,1]<br>]<br>于上一题一样，除了是否访问过的判定，还要加上是否重复的判定 visit[i - 1] == false &amp;&amp; i != 0 &amp;&amp; nums[i] == nums[i - 1]<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    </div><div class="line">    vector&lt;vector&lt;int&gt;&gt; permuteUnique(vector&lt;int&gt;&amp; num) &#123;</div><div class="line">        vector&lt;vector&lt;int&gt;&gt; result;</div><div class="line">        <span class="keyword">if</span>(num.size() == 0)&#123;</div><div class="line">            <span class="built_in">return</span> result;</div><div class="line">        &#125;</div><div class="line">        vector&lt;int&gt; path;</div><div class="line">        vector&lt;bool&gt; visited(num.size(), <span class="literal">false</span>);</div><div class="line">        </div><div class="line">        sort(num.begin(), num.end());</div><div class="line">        dfs(result, path, num, visited);</div><div class="line">        <span class="built_in">return</span> result;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    void dfs(vector&lt;vector&lt;int&gt;&gt;&amp; result, vector&lt;int&gt; path, vector&lt;int&gt; num, vector&lt;bool&gt; visited)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(path.size() == num.size())&#123;</div><div class="line">            result.push_back(path);</div><div class="line">            <span class="built_in">return</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i = 0; i &lt; num.size(); i++)&#123;</div><div class="line">            <span class="keyword">if</span>(visited[i] == <span class="literal">false</span>)&#123;</div><div class="line">                <span class="keyword">if</span>(i != 0 &amp;&amp; visited[i - 1] == <span class="literal">false</span> &amp;&amp; num[i] == num[i - 1])&#123; //判定一定要考虑[i - 1]项，i != 0 在前</div><div class="line">                    <span class="built_in">continue</span>;</div><div class="line">                &#125;</div><div class="line">                visited[i] = <span class="literal">true</span>;</div><div class="line">                path.push_back(num[i]);</div><div class="line">                dfs(result, path, num, visited);</div><div class="line">                visited[i] = <span class="literal">false</span>;</div><div class="line">                path.pop_back();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">            </div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/11/dynamic-programming例题/" itemprop="url">
                  dynamic programming例题
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-11T13:53:01-04:00" content="2016-10-11">
              2016-10-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/big-data/" itemprop="url" rel="index">
                    <span itemprop="name">big_data</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Best Time to Buy and Sell Stock</div><div class="line">Best Time to Buy and Sell Stock II</div><div class="line">Longest Increasing Subsequence</div></pre></td></tr></table></figure>
<p><a href="http://www.cnblogs.com/wuyuegb2312/p/3281264.html" target="_blank" rel="external">http://www.cnblogs.com/wuyuegb2312/p/3281264.html</a></p>
<h3 id="1-Best-Time-to-Buy-and-Sell-Stock"><a href="#1-Best-Time-to-Buy-and-Sell-Stock" class="headerlink" title="1. Best Time to Buy and Sell Stock"></a>1. Best Time to Buy and Sell Stock</h3><p>Say you have an array for which the ith element is the price of a given stock on day i.<br>If you were only permitted to complete at most one transaction (ie, buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>
<p>假设 f[i] 为到第 i 天为止可以拿到的最大利润。对于第 i 天，有两种选择，即在当天卖掉股票，或者在第 i 天之前已经卖掉了。那么 f[i] 就是这两种选择中的最大值。如果在第 i 天卖掉股票，那么问题就是在哪天买股票，只要维护一个到第 i 天为止股价的最小值 minPrice 就可以了，此时 f[i] = prices[i] - minPrice ；如果在第 i 天股票已经卖出，则 f[i] = f[i-1]  (类似于背包问题，两种选择，卖还是不卖)。综上所述，令 f[i] 表示到第 i 天为止可以拿到的最大利润。状态转移方程为 f[i] = max(f[i-1], prices[i] - minPrice) ，其中 minPrice 表示到第 i 天为止的最低股价，并且有 minPrice = min(minPrice, prices[i]) 。边界条件为 f[0] = 0, minPrice = prices[0] 。最终结果为 f[n-1] 。时间复杂度与空间复杂度均为 O(n) 。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    int maxProfit(vector&lt;int&gt;&amp; prices) &#123;</div><div class="line">        <span class="keyword">if</span>(prices.size() &lt;= 1)&#123;</div><div class="line">            <span class="built_in">return</span> 0;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        int minP = prices[0];</div><div class="line">        int profit = prices[1] - prices[0];</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i = 2; i &lt; prices.size(); i++)&#123;</div><div class="line">            minP = min(prices[i - 1], minP);</div><div class="line">            profit = max(profit, prices[i] - minP);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span>(profit &lt; 0)&#123;</div><div class="line">            <span class="built_in">return</span> 0;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="built_in">return</span> profit;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="2-Best-Time-to-Buy-and-Sell-Stock-II"><a href="#2-Best-Time-to-Buy-and-Sell-Stock-II" class="headerlink" title="2. Best Time to Buy and Sell Stock II"></a>2. Best Time to Buy and Sell Stock II</h3><p>Say you have an array for which the ith element is the price of a given stock on day i.<br>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (ie, buy one and sell one share of the stock multiple times). However, you may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</p>
<p>由于可以无限次买卖，上次的状态模型显然不能用了。考虑第 i 天的行为可以是买入、卖出，或什么都不做。如果要买入，显然至少在第 i-1 天的时候手中是没有持有股票的，而如果要卖出，则至少在第 i-1 天的时候手中必须持有股票，如果什么都不做，则没有限制。根据这样的分析，我们可以知道为了计算第 i 天的情况，我们（只）需要第 i-1 天时持有和未持有股票的情况。据此可以抽象出状态。令 hold[i] 表示第 i 天时持有股票可以获得的最大利润， free[i] 表示第 i 天时未持有股票能获得的最大利润。第 i 天持有股票有两种情况，即第 i-1 天就已经持有，或在第 i 天买入。即 hold[i] = max(hold[i-1], free[i-1] - prices[i]) 。同理第 i 天未持有股票也有对应两种情况，即第 i-1 天未持有，或第 i 天卖出。即 free[i] = max(free[i-1], hold[i-1] + prices[i]) 。初始条件为 hold[0] = -prices[0], free[0] = 0 。最终结果为 free[n-1] 。时间复杂度和空间复杂度均为 O(n) 。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    int maxProfit(vector&lt;int&gt;&amp; prices) &#123;</div><div class="line">        //本题也可以做是最大m 子段和</div><div class="line">        int sum = 0;</div><div class="line">        <span class="keyword">for</span>(int i = 1; i &lt; prices.size(); i++)&#123;</div><div class="line">            int diff = prices[i] - prices[i - 1];</div><div class="line">            <span class="keyword">if</span>(diff &gt; 0)&#123;</div><div class="line">                sum += diff;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">return</span> sum;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="3-Longest-Increasing-Subsequence"><a href="#3-Longest-Increasing-Subsequence" class="headerlink" title="3. Longest Increasing Subsequence"></a>3. Longest Increasing Subsequence</h3><p>Given an unsorted array of integers, find the length of longest increasing subsequence.</p>
<p>For example,<br>Given [10, 9, 2, 5, 3, 7, 101, 18],<br>The longest increasing subsequence is [2, 3, 7, 101], therefore the length is 4. Note that there may be more than one LIS combination, it is only necessary for you to return the length.</p>
<p>Your algorithm should run in O(n2) complexity.</p>
<p>Follow up: Could you improve it to O(n log n) time complexity?<br>最长单调递增自序列，有nlog(n)算法，思考过程类似于背包问题，此题中背包不必装满，但是比i(背包容量)小的数j(宝石)，判断max(dp[j]+1, dp[i])，dp[]为子序列个数，相当于背包问题中宝石价值。但是背包问题中，背包捡起一次宝石，背包容量会减小，所以在状态转移方程为max(dp[i - vj(重量)] + 价值，dp[i])，而这个问题不存在背包容量问题，只需要判断j比i小就行了。除此之外还要排出i左边的坑，比如nums[10, 9, 2, 5, 3, 7, 101, 18]中nums[4] = 7，比7小的有[2, 5, 3]，但是子序列要把3这个坑去掉，所以才用max(dp[j] + 1)，解释一下比如i取7的位置，j取3的位置，此时dp[i] = 2，因为有2和5，但是dp[j] ＝ 1，只有2比3小，这时候就跳过3这个数。因为dp[i]是i左边小于nums[i]，并且递增的总和，如果前面有个坑，这个总数会比坑左面的数值小。因此取max(dp[j] + 1)。这个方法经常用，要记住。一般复杂度为O(n^2)。</p>
<p>再说nlog(n)解法，考虑两个数a[x]和a[y]，x&lt;y且a[x]&lt;a[y],且dp[x]=dp[y]，当a[t]要选择时，到底取哪一个构成最优的呢？显然选取a[x]更有潜力，因为可能存在a[x]&lt;a[z]&lt;a[y]，这样a[t]可以获得更优的值。在这里给我们一个启示，当dp[t]一样时，尽量选择更小的a[x].按dp[t]=k来分类，只需保留dp[t]=k的所有a[t]中的最小值，设d[k]记录这个值，d[k]=min{a[t],dp[t]=k}。<br>这时注意到d的两个特点（重要）：</p>
<ol>
<li>d[k]在计算过程中单调不升；           </li>
<li>d数组是有序的，d[1]&lt;d[2]&lt;..d[n]。<br> 利用这两个性质，可以很方便的求解：</li>
<li>设当前已求出的最长上升子序列的长度为len（初始时为1），每次读入一个新元素x：</li>
<li>若x&gt;d[len]，则直接加入到d的末尾，且len++；（利用性质2）<br>否则，在d中二分查找，找到第一个比x小的数d[k]，并d[k+1]=x，在这里x&lt;=d[k+1]一定成立（性质1,2）。<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">O(n^2)</div><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    int lengthOfLIS(vector&lt;int&gt;&amp; nums) &#123;</div><div class="line">        int n=nums.size();</div><div class="line">        <span class="keyword">if</span>(!n) <span class="built_in">return</span> 0;</div><div class="line">        int result=1;</div><div class="line">        vector&lt;int&gt; dp(n,1);</div><div class="line">        </div><div class="line">        <span class="keyword">for</span>(int i=1;i&lt;n;i++)&#123;</div><div class="line">            int temp=0;</div><div class="line">            <span class="keyword">for</span>(int j=0;j&lt;i;j++)&#123;</div><div class="line">                <span class="keyword">if</span>(nums[j]&lt;nums[i]) temp=max(temp,dp[j]);</div><div class="line">            &#125;</div><div class="line">            dp[i]=temp+1;</div><div class="line">            result=max(dp[i],result);</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">return</span> result;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line">// C++ implementation to find longest increasing subsequence</div><div class="line">// <span class="keyword">in</span> O(n Log n) time.</div><div class="line"><span class="comment">#include &lt;bits/stdc++.h&gt;</span></div><div class="line">using namespace std;</div><div class="line"> </div><div class="line">// Binary search</div><div class="line">int GetCeilIndex(int arr[], vector&lt;int&gt; &amp;T, int l, int r,</div><div class="line">                 int key)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">while</span> (r - l &gt; 1)</div><div class="line">    &#123;</div><div class="line">        int m = l + (r - l)/2;</div><div class="line">        <span class="keyword">if</span> (arr[T[m]] &gt;= key)</div><div class="line">            r = m;</div><div class="line">        <span class="keyword">else</span></div><div class="line">            l = m;</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    <span class="built_in">return</span> r;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">int LongestIncreasingSubsequence(int arr[], int n)</div><div class="line">&#123;</div><div class="line">    // Add boundary <span class="keyword">case</span>, when array n is zero</div><div class="line">    // Depend on smart pointers</div><div class="line"> </div><div class="line">    vector&lt;int&gt; tailIndices(n, 0); // Initialized with 0 </div><div class="line">    vector&lt;int&gt; prevIndices(n, -1); // initialized with -1</div><div class="line"> </div><div class="line">    int len = 1; // it will always point to empty location</div><div class="line">    <span class="keyword">for</span> (int i = 1; i &lt; n; i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (arr[i] &lt; arr[tailIndices[0]])</div><div class="line">        &#123;</div><div class="line">            // new smallest value</div><div class="line">            tailIndices[0] = i;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (arr[i] &gt; arr[tailIndices[len-1]])</div><div class="line">        &#123;</div><div class="line">            // arr[i] wants to extend largest subsequence</div><div class="line">            prevIndices[i] = tailIndices[len-1];</div><div class="line">            tailIndices[len++] = i;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            // arr[i] wants to be a potential condidate of</div><div class="line">            // future subsequence</div><div class="line">            // It will replace ceil value <span class="keyword">in</span> tailIndices</div><div class="line">            int pos = GetCeilIndex(arr, tailIndices, -1,</div><div class="line">                                   len-1, arr[i]);</div><div class="line"> </div><div class="line">            prevIndices[i] = tailIndices[pos-1];</div><div class="line">            tailIndices[pos] = i;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"> </div><div class="line">    cout &lt;&lt; <span class="string">"LIS of given input"</span> &lt;&lt; endl;</div><div class="line">    <span class="keyword">for</span> (int i = tailIndices[len-1]; i &gt;= 0; i = prevIndices[i])</div><div class="line">        cout &lt;&lt; arr[i] &lt;&lt; <span class="string">" "</span>;</div><div class="line">    cout &lt;&lt; endl;</div><div class="line"> </div><div class="line">    <span class="built_in">return</span> len;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">int <span class="function"><span class="title">main</span></span>()</div><div class="line">&#123;</div><div class="line">    int arr[] = &#123; 2, 5, 3, 7, 11, 8, 10, 13, 6 &#125;;</div><div class="line">    int n = sizeof(arr)/sizeof(arr[0]);</div><div class="line"> </div><div class="line">    <span class="built_in">printf</span>(<span class="string">"LIS size %d\n"</span>, LongestIncreasingSubsequence(arr, n));</div><div class="line"> </div><div class="line">    <span class="built_in">return</span> 0;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/09/string题目-md/" itemprop="url">
                  string题目
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-09T19:35:35-04:00" content="2016-10-09">
              2016-10-09
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/LeetCode/" itemprop="url" rel="index">
                    <span itemprop="name">LeetCode</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">计算器</div><div class="line">旋转字符串(rotate string) // 来自[July](https://github.com/julycoding/The-Art-Of-Programming-By-July/blob/master/ebook/zh/01.01.md)</div><div class="line">字符串转换成整数</div><div class="line">palindrome</div><div class="line">最长回文</div></pre></td></tr></table></figure>
<h3 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a>Notes</h3><ol>
<li>string类里面可以用append(), push_back(), += 来追加字符，push_back()参数为char, length增加1; append和 +=可以增加string和char.</li>
<li>可以用to_string()转换numerical类型到string类型, return是一个representation而不是copy，反过来可以用atoi，但是只return一个value.</li>
<li>string转换相应数字可以用”number” - “0”，利用ASCII码转化.</li>
</ol>
<h3 id="1-实现一个计算器"><a href="#1-实现一个计算器" class="headerlink" title="1. 实现一个计算器"></a>1. 实现一个计算器</h3><p>Implement a basic calculator to evaluate a simple expression string.<br>The expression string contains only non-negative integers, +, -, *, / operators and empty spaces . The integer division should truncate toward zero.<br>You may assume that the given expression is always valid.</p>
<p>Some examples:<br>“3+2*2” = 7<br>“ 3/2 “ = 1<br>“ 3+5 / 2 “ = 5<br>Note: Do not use the eval built-in library function.</p>
<p>思路：这题有乘除，那么就牵扯到了运算优先级的问题，但是这题没有括号，估计再出一道的话就该加上括号了(记得再写一道带括号的)。不管那么多，这道题先按木有有括号来处理，由于存在运算优先级，我们采取的措施是使用一个栈保存数字，如果该数字之前的符号是加或减，那么把当前数字压入栈中，注意如果是减号，则加入当前数字的相反数，因为减法相当于加上一个相反数。如果之前的符号是乘或除，那么从栈顶取出一个数字和当前数字进行乘或除的运算，再把结果压入栈中，那么完成一遍遍历后，所有的乘或除都运算完了，再把栈中所有的数字都加起来就是最终结果了。代码如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">public:</div><div class="line">    int calculate(string s) &#123;</div><div class="line">        int res = 0, d = 0;</div><div class="line">        char sign = <span class="string">'+'</span>;</div><div class="line">        stack&lt;int&gt; nums;</div><div class="line">        <span class="keyword">for</span>(int i = 0; i &lt; s.size(); ++i)&#123;</div><div class="line">            <span class="keyword">if</span>(s[i] &gt;= <span class="string">'0'</span>)&#123;               // 注意这个条件</div><div class="line">                d = d * 10 + s[i] - <span class="string">'0'</span>;   //从左边读入数据, d为读入数据，如果数据为INT_MAX，则会溢出，要不要用long?</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>((s[i] &lt; <span class="string">'0'</span> &amp;&amp; s[i] != <span class="string">' '</span>) || i == s.size() - 1)&#123;</div><div class="line">                <span class="keyword">if</span>(sign == <span class="string">'+'</span>) nums.push(d);</div><div class="line">                <span class="keyword">if</span>(sign == <span class="string">'-'</span>) nums.push(<span class="_">-d</span>);</div><div class="line">                <span class="keyword">if</span>(sign == <span class="string">'*'</span> || sign == <span class="string">'/'</span>)&#123;</div><div class="line">                    int tmp = sign == <span class="string">'*'</span> ? nums.top() * d : nums.top() / d;</div><div class="line">                    nums.pop();</div><div class="line">                    nums.push(tmp);</div><div class="line">                &#125; </div><div class="line">                sign = s[i];               //使得数据读取进行下去</div><div class="line">                d = 0;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span>(!nums.empty())&#123;</div><div class="line">            res += nums.top();</div><div class="line">            nums.pop();</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">return</span> res;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="1-旋转字符串"><a href="#1-旋转字符串" class="headerlink" title="1. 旋转字符串"></a>1. 旋转字符串</h3><p>给定一个字符串，要求把字符串前面的若干个字符移动到字符串的尾部，如把字符串“abcdef”前面的2个字符’a’和’b’移动到字符串的尾部，使得原字符串变成字符串“cdefab”。请写一个函数完成此功能，要求对长度为n的字符串操作的时间复杂度为 O(n)，空间复杂度为 O(1)。</p>
<h2 id="1-brute-force"><a href="#1-brute-force" class="headerlink" title="1. brute force"></a>1. brute force</h2><p>初看此题，可能最先想到的方法是按照题目所要求的，把需要移动的字符一个一个地移动到字符串的尾部，如此我们可以实现一个函数LeftShiftOne(char* s, int n) ，以完成移动一个字符到字符串尾部的功能，代码如下所示：<br>(思考，如果是反着旋转呢？)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">void LeftShiftOne(char* s, int n)</div><div class="line">&#123;</div><div class="line">    char temp = s[0];          //save the first element</div><div class="line">    <span class="keyword">for</span>(int i = 0; i &lt; n; i++)&#123;</div><div class="line">        s[i + 1] = s[i];</div><div class="line">    &#125;</div><div class="line">    s[n - 1] = temp;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void LeftRotateString(char* s, int m)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">while</span>(m--)&#123;</div><div class="line">        LeftShiftOne(s, n);</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>针对长度为n的字符串来说，假设需要移动m个字符到字符串的尾部，那么总共需要 m<em>n 次操作，同时设立一个变量保存第一个字符，如此，时间复杂度为O(m </em> n)，空间复杂度为O(1)，空间复杂度符合题目要求，但时间复杂度不符合，所以，我们得需要寻找其他更好的办法来降低时间复杂度。</p>
<h2 id="2-三步反转法"><a href="#2-三步反转法" class="headerlink" title="2. 三步反转法"></a>2. 三步反转法</h2><p>对于这个问题，换一个角度思考一下。<br>将一个字符串分成X和Y两个部分，在每部分字符串上定义反转操作，如X^T，即把X的所有字符反转（如，X=”abc”，那么X^T=”cba”），那么就得到下面的结论：(X^TY^T)^T=YX，显然就解决了字符串的反转问题。<br>例如，字符串 abcdef ，若要让def翻转到abc的前头，只要按照下述3个步骤操作即可：<br>首先将原字符串分为两个部分，即X:abc，Y:def；<br>将X反转，X-&gt;X^T，即得：abc-&gt;cba；将Y反转，Y-&gt;Y^T，即得：def-&gt;fed。<br>反转上述步骤得到的结果字符串X^TY^T，即反转字符串cbafed的两部分（cba和fed）给予反转，cbafed得到defabc，形式化表示为(X^TY^T)^T=YX，这就实现了整个反转。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">void ReverseString(char* s, int from, int to)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">while</span>(from &lt; to)&#123;</div><div class="line">        char temp = s[from];</div><div class="line">        s[from++] = s[to];</div><div class="line">        s[to--] = t; </div><div class="line">        /*或者</div><div class="line">        swap(s[from++], s[to--]); */</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">void LeftRotateString(char* s, int n, int m)</div><div class="line">&#123;</div><div class="line">    m %= n;  //左移大于n位，和%n是等价的</div><div class="line">    ReverseString(s, 0, m - 1); //反转［0, m - 1］</div><div class="line">    ReverseString(s, m, n - 1); //反转 [m, n - 1]</div><div class="line">    ReverseString(s, 0, n - 1); //反转 [0, n - 1]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>举一反三</p>
<p>1、链表翻转。给出一个链表和一个数k，比如，链表为1→2→3→4→5→6，k=2，则翻转后2→1→6→5→4→3，若k=3，翻转后3→2→1→6→5→4，若k=4，翻转后4→3→2→1→6→5，用程序实现。</p>
<p>2、编写程序，在原字符串中把字符串尾部的m个字符移动到字符串的头部，要求：长度为n的字符串操作时间复杂度为O(n)，空间复杂度为O(1)。 例如，原字符串为”Ilovebaofeng”，m=7，输出结果为：”baofengIlove”。</p>
<p>3、单词翻转。输入一个英文句子，翻转句子中单词的顺序，但单词内字符的顺序不变，句子中单词以空格符隔开。为简单起见，标点符号和普通字母一样处理。例如，输入“I am a student.”，则输出“student. a am I”。</p>
<h3 id="2-字符串包含"><a href="#2-字符串包含" class="headerlink" title="2. 字符串包含"></a>2. 字符串包含</h3><p>给定两个分别由字母组成的字符串A和字符串B，字符串B的长度比字符串A短。请问，如何最快地判断字符串B中所有字母是否都在字符串A里？<br>为了简单起见，我们规定输入的字符串只包含大写英文字母，请实现函数bool StringContains(string &amp;A, string &amp;B)<br>比如，如果是下面两个字符串：<br>String 1：ABCD<br>String 2：BAD<br>答案是true，即String2里的字母在String1里也都有，或者说String2是String1的真子集。<br>如果是下面两个字符串：<br>String 1：ABCD<br>String 2：BCE<br>答案是false，因为字符串String2里的E字母不在字符串String1里。<br>同时，如果string1：ABCD，string 2：AA，同样返回true。</p>
<h3 id="字符串转换整数-‘string’-‘0’，因为’0’对应的ASCII为48，整数字符串减去48得到相应的整数。另外"><a href="#字符串转换整数-‘string’-‘0’，因为’0’对应的ASCII为48，整数字符串减去48得到相应的整数。另外" class="headerlink" title="字符串转换整数 ‘string’ - ‘0’，因为’0’对应的ASCII为48，整数字符串减去48得到相应的整数。另外"></a>字符串转换整数 ‘string’ - ‘0’，因为’0’对应的ASCII为48，整数字符串减去48得到相应的整数。另外</h3><p>大小写字母的转换：先看ASCII码：a~z是97~122的二进制，而A~Z是65~90的二进制编码，于是我们就得出：大写字母=小写字母-32 ；这个公式了。当然这里的32我也可以这么写‘Z’=‘z’-‘空格’。因为空格的ASCII码是32对应的二进制编码。</p>
<p>比如</p>
<h3 id="字符串转换成整数"><a href="#字符串转换成整数" class="headerlink" title="字符串转换成整数"></a>字符串转换成整数</h3><p>输入一个由数字组成的字符串，把它转换成整数并输出。例如：输入字符串”123”，输出整数123。给定函数原型int StrToInt(const char *str) ，实现字符串转换成整数的功能，不能使用库函数atoi。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">int StrToInt(const char *str)</div><div class="line">&#123;</div><div class="line">    int n = 0;</div><div class="line">    <span class="keyword">while</span> (*str != 0)</div><div class="line">    &#123;</div><div class="line">        int c = *str - <span class="string">'0'</span>;</div><div class="line">        n = n * 10 + c;</div><div class="line">        ++str;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> n;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>显然，上述代码忽略了以下细节：</p>
<p>空指针输入：输入的是指针，在访问空指针时程序会崩溃，<font color="red">因此在使用指针之前需要先判断指针是否为空</font>。<br>正负符号：整数不仅包含数字，还有可能是以’+’或’-‘开头表示正负整数，因此如果第一个字符是’-‘号，则要把得到的整数转换成负整数。<br>非法字符：输入的字符串中可能含有不是数字的字符。因此，每当碰到这些非法的字符，程序应停止转换。<br>整型溢出：输入的数字是以字符串的形式输入，因此输入一个很长的字符串将可能导致溢出。</p>
<p>字符串转换成整数，完整的参考代码为<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line">int StrToInt(const char* str)</div><div class="line">&#123;</div><div class="line">    static const int MAX_INT = (int)((unsigned)~0 &gt;&gt; 1);</div><div class="line">    static const int MIN_INT = -(int)((unsigned)~0 &gt;&gt; 1) - 1;</div><div class="line">    unsigned int n = 0;</div><div class="line"></div><div class="line">    //判断是否输入为空</div><div class="line">    <span class="keyword">if</span> (str == 0)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">return</span> 0;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //处理空格</div><div class="line">    <span class="keyword">while</span> (isspace(*str))</div><div class="line">        ++str;</div><div class="line"></div><div class="line">    //处理正负</div><div class="line">    int sign = 1;</div><div class="line">    <span class="keyword">if</span> (*str == <span class="string">'+'</span> || *str == <span class="string">'-'</span>)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (*str == <span class="string">'-'</span>)</div><div class="line">            sign = -1;</div><div class="line">        ++str;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    //确定是数字后才执行循环</div><div class="line">    <span class="keyword">while</span> (isdigit(*str))</div><div class="line">    &#123;</div><div class="line">        //处理溢出</div><div class="line">        int c = *str - <span class="string">'0'</span>;</div><div class="line">        <span class="keyword">if</span> (sign &gt; 0 &amp;&amp; (n &gt; MAX_INT / 10 || (n == MAX_INT / 10 &amp;&amp; c &gt; MAX_INT % 10)))</div><div class="line">        &#123;</div><div class="line">            n = MAX_INT;</div><div class="line">            <span class="built_in">break</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (sign &lt; 0 &amp;&amp; (n &gt;(unsigned)MIN_INT / 10 || (n == (unsigned)MIN_INT / 10 &amp;&amp; c &gt; (unsigned)MIN_INT % 10)))</div><div class="line">        &#123;</div><div class="line">            n = MIN_INT;</div><div class="line">            <span class="built_in">break</span>;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        //把之前得到的数字乘以10，再加上当前字符表示的数字。</div><div class="line">        n = n * 10 + c;</div><div class="line">        ++str;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> sign &gt; 0 ? n : -n;</div></pre></td></tr></table></figure></p>
<p>举一反三</p>
<p>实现string到double的转换<br>分析：此题虽然类似于atoi函数，但毕竟double为64位，而且支持小数，因而边界条件更加严格，写代码时需要更加注意。</p>
<h3 id="回文判断"><a href="#回文判断" class="headerlink" title="回文判断"></a>回文判断</h3><p>题目描述<br>回文，英文palindrome，指一个顺着读和反过来读都一样的字符串，比如madam、我爱我，这样的短句在智力性、趣味性和艺术性上都颇有特色，中国历史上还有很多有趣的回文诗。<br>那么，我们的第一个问题就是：判断一个字串是否是回文？<br>解法一<br>同时从字符串头尾开始向中间扫描字串，如果所有字符都一样，那么这个字串就是一个回文。采用这种方法的话，我们只需要维护头部和尾部两个扫描指针即可。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line">bool IsPalindrome(const char *s, int n)</div><div class="line">&#123;</div><div class="line">    // 非法输入</div><div class="line">    <span class="keyword">if</span> (s == NULL || n &lt; 1)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    const char* front,*back;</div><div class="line"></div><div class="line">    // 初始化头指针和尾指针</div><div class="line">    front = s;</div><div class="line">    back = s+ n - 1;</div><div class="line"></div><div class="line">    <span class="keyword">while</span> (front &lt; back)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (*front != *back)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">        ++front;</div><div class="line">        --back;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">解法二</div><div class="line"></div><div class="line">上述解法一从两头向中间扫描，那么是否还有其它办法呢？我们可以先从中间开始、然后向两边扩展查看字符是否相等。参考代码如下：</div><div class="line">```bash</div><div class="line">bool IsPalindrome2(const char *s, int n)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (s == NULL || n &lt; 1)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">    &#125;</div><div class="line">    const char* first, *second;</div><div class="line"></div><div class="line">    // m定位到字符串的中间位置      </div><div class="line">    int m = ((n &gt;&gt; 1) - 1) &gt;= 0 ? (n &gt;&gt; 1) - 1 : 0; </div><div class="line">    first = s + m;</div><div class="line">    second = s + n - 1 - m;</div><div class="line"></div><div class="line">    <span class="keyword">while</span> (first &gt;= s)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (*first!= *second)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">return</span> <span class="literal">false</span>;</div><div class="line">        &#125;</div><div class="line">        --first;</div><div class="line">        ++second;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="最长回文"><a href="#最长回文" class="headerlink" title="最长回文"></a>最长回文</h3><p>最容易想到的办法是枚举所有的子串，分别判断其是否为回文。这个思路初看起来是正确的，但却做了很多无用功，如果一个长的子串包含另一个短一些的子串，那么对子串的回文判断其实是不需要的。<br>解法一<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">int LongestPalindrome(const char *s, int n)</div><div class="line">&#123;</div><div class="line">    int i, j, max,c;</div><div class="line">    <span class="keyword">if</span> (s == 0 || n &lt; 1)</div><div class="line">        <span class="built_in">return</span> 0;</div><div class="line">    max = 0;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (i = 0; i &lt; n; ++i) &#123; // i is the middle point of the palindrome  </div><div class="line">        <span class="keyword">for</span> (j = 0; (i - j &gt;= 0) &amp;&amp; (i + j &lt; n); ++j)&#123; // <span class="keyword">if</span> the length of the palindrome is odd  </div><div class="line">            <span class="keyword">if</span> (s[i - j] != s[i + j])</div><div class="line">                <span class="built_in">break</span>;</div><div class="line">            c = j * 2 + 1;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (c &gt; max)</div><div class="line">            max = c;</div><div class="line">        <span class="keyword">for</span> (j = 0; (i - j &gt;= 0) &amp;&amp; (i + j + 1 &lt; n); ++j)&#123; // <span class="keyword">for</span> the even <span class="keyword">case</span>  </div><div class="line">            <span class="keyword">if</span> (s[i - j] != s[i + j + 1])</div><div class="line">                <span class="built_in">break</span>;</div><div class="line">            c = j * 2 + 2;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (c &gt; max)</div><div class="line">            max = c;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">return</span> max;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>解法二 Manacher算法<br>首先通过在每个字符的两边都插入一个特殊的符号，将所有可能的奇数或偶数长度的回文子串都转换成了奇数长度。比如 abba 变成 #a#b#b#a#， aba变成 #a#b#a#。</p>
<p>此外，为了进一步减少编码的复杂度，可以在字符串的开始加入另一个特殊字符，这样就不用特殊处理越界问题，比如$#a#b#a#。此外，为了进一步减少编码的复杂度，可以在字符串的开始加入另一个特殊字符，这样就不用特殊处理越界问题，比如$#a#b#a#。<br>以字符串12212321为例，插入#和$这两个特殊符号，变成了 S[] = “$#1#2#2#1#2#3#2#1#”，然后用一个数组 P[i] 来记录以字符S[i]为中心的最长回文子串向左或向右扩张的长度（包括S[i]）。</p>
<p>比如S和P的对应关系：</p>
<p>S # 1 # 2 # 2 # 1 # 2 # 3 # 2 # 1 #<br>P 1 2 1 2 5 2 1 4 1 2 1 6 1 2 1 2 1<br>可以看出，P[i]-1正好是原字符串中最长回文串的总长度，为5。</p>
<p>接下来怎么计算P[i]呢？Manacher算法增加两个辅助变量id和mx，其中id表示最大回文子串中心的位置，mx则为id+P[id]，也就是最大回文子串的边界。得到一个很重要的结论：</p>
<p>如果mx &gt; i，那么P[i] &gt;= Min(P[2 * id - i], mx - i)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">// Transform S into T.</div><div class="line">// For example, S = <span class="string">"abba"</span>, T = <span class="string">"^#a#b#b#a#$"</span>.</div><div class="line">// ^ and $ signs are sentinels appended to each end to avoid bounds checking</div><div class="line">string preProcess(string s) &#123;</div><div class="line">  int n = s.length();</div><div class="line">  <span class="keyword">if</span> (n == 0) <span class="built_in">return</span> <span class="string">"^$"</span>;</div><div class="line">  string ret = <span class="string">"^"</span>;</div><div class="line">  <span class="keyword">for</span> (int i = 0; i &lt; n; i++)</div><div class="line">    ret += <span class="string">"#"</span> + s.substr(i, 1);</div><div class="line"> </div><div class="line">  ret += <span class="string">"#$"</span>;</div><div class="line">  <span class="built_in">return</span> ret;</div><div class="line">&#125;</div><div class="line"> </div><div class="line">string longestPalindrome(string s) &#123;</div><div class="line">  string T = preProcess(s);</div><div class="line">  int n = T.length();</div><div class="line">  int *P = new int[n];</div><div class="line">  int C = 0, R = 0;</div><div class="line">  <span class="keyword">for</span> (int i = 1; i &lt; n-1; i++) &#123;</div><div class="line">    int i_mirror = 2*C-i; // equals to i<span class="string">' = C - (i-C)</span></div><div class="line">    </div><div class="line">    P[i] = (R &gt; i) ? min(R-i, P[i_mirror]) : 0;</div><div class="line">    </div><div class="line">    // Attempt to expand palindrome centered at i</div><div class="line">    while (T[i + 1 + P[i]] == T[i - 1 - P[i]])</div><div class="line">      P[i]++;</div><div class="line"> </div><div class="line">    // If palindrome centered at i expand past R,</div><div class="line">    // adjust center based on expanded palindrome.</div><div class="line">    if (i + P[i] &gt; R) &#123;</div><div class="line">      C = i;</div><div class="line">      R = i + P[i];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"> </div><div class="line">  // Find the maximum element in P.</div><div class="line">  int maxLen = 0;</div><div class="line">  int centerIndex = 0;</div><div class="line">  for (int i = 1; i &lt; n-1; i++) &#123;</div><div class="line">    if (P[i] &gt; maxLen) &#123;</div><div class="line">      maxLen = P[i];</div><div class="line">      centerIndex = i;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  delete[] P;</div><div class="line">  </div><div class="line">  return s.substr((centerIndex - 1 - maxLen)/2, maxLen);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>另外附上九章算法的binary search模版<br>// Comment<br>public class Solution {<br>    /**</p>
<pre><code> * @param array source array
 * @param target target to search
 * @return the first occurrence position of target 
 */
public int binarySearch(int[] A, int target) {
    if (A.length == 0) {
        return -1;
    }

    int start = 0;
    int end = A.length - 1;
    int mid;

    while (start + 1 &lt; end) {
        mid = start + (end - start) / 2;
        if (A[mid] == target) {
            end = mid;
        } else if (A[mid] &lt; target) {
            start = mid;
        } else if (A[mid] &gt; target) {
            end = mid;
        }
    }

    if (A[start] == target) {
        return start;
    }
    if (A[end] == target) {
        return end;
    }

    return -1;
}
</code></pre><p>}</p>
<p>Attention:<br>1) Why start + 1 &lt; end?<br>There might be deadlock if use start &lt; end, for example, if start = 1, end = 2, =&gt; mid = 1. Then, it will be a  deadlock.(To solve this problem, mid + 1, for some problems)</p>
<ol>
<li>Related Problems</li>
</ol>
<p>2.1 Search for Insertion Position<br>2.2 Search for a Range<br>2.3 Search in Rotated Sorted Array<br>写好不容易，有细节，算法性强，类似分糖果题。<br>用二分法的变种做，循环左移。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Wei" />
          <p class="site-author-name" itemprop="name">Wei</p>
          <p class="site-description motion-element" itemprop="description">update some solutions of Leetcode</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">12</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Wei</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
